<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">
  <script>
    (function(){
        if(''){
            if (prompt('请输入博客密码') !== ''){
                alert('密码错误！');
                history.back();
            }
        }
    })();
</script>








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="我这个人只是英俊 潇洒了些许~">
<meta property="og:type" content="website">
<meta property="og:title" content="THBELIEF">
<meta property="og:url" content="http://thbelief.coding.me/index.html">
<meta property="og:site_name" content="THBELIEF">
<meta property="og:description" content="我这个人只是英俊 潇洒了些许~">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="THBELIEF">
<meta name="twitter:description" content="我这个人只是英俊 潇洒了些许~">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://thbelief.coding.me/">





  <title>THBELIEF</title>
  








  <script type="text/javascript" src="/js/src/love.js"></script>
</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>
    
    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">THBELIEF</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Thbelief's blog</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/06/12/Renting-Boats/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/12/Renting-Boats/" itemprop="url">Renting Boats</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-12T08:14:17+08:00">
                2019-06-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  476
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#renting-boats">Renting Boats</a><ul>
<li><a href="#题目">题目</a></li>
<li><a href="#输入">输入</a></li>
<li><a href="#输出">输出</a></li>
<li><a href="#样例输入复制">样例输入复制</a></li>
<li><a href="#样例输出">样例输出</a></li>
<li><a href="#思路">思路</a></li>
<li><a href="#代码">代码</a></li>
<li><a href="#结果">结果</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<h2><span id="renting-boats">Renting Boats</span></h2><h3><span id="题目">题目</span></h3><p>长江游艇俱乐部在长江上设置了n 个游艇出租站1，2，…，n。游客可在这些游艇出租站租用游艇，并在下游的任何一个游艇出租站归还游艇。游艇出租站i 到游艇出租站j 之间的租金为r(i,j),1&lt; =i&lt; j &lt; =n。试设计一个算法，计算出从游艇出租站1 到游艇出租站n 所需的最少租金。</p>
<h3><span id="输入">输入</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">第1 行中有1 个正整数n（n&lt;=200），表示有n个游艇出租站。接下来的n-1 行是r(i,j),1&lt; =i&lt; j &lt; =n。</span><br></pre></td></tr></table></figure>
<h3><span id="输出">输出</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">从游艇出租站1 到游艇出租站n所需的最少租金</span><br></pre></td></tr></table></figure>
<h3><span id="样例输入复制">样例输入复制</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">5 15</span><br><span class="line">7</span><br></pre></td></tr></table></figure>
<h3><span id="样例输出">样例输出</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">12</span><br></pre></td></tr></table></figure>
<h3><span id="思路">思路</span></h3><p>这是一道动态规划的题目，但是也可以使用蛮力法来做。</p>
<p>我们可以使用数组去存具体的租金，然后算每一段距离的租金之和，如果便宜的话就保存下来下次去比较，知道最后比较完肯定是最少租金的一种方法。</p>
<h3><span id="代码">代码</span></h3><p>注意这里是<strong>多组输入</strong>！  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">	//首先是定义一个数组用来存放出租站的坐标，初始化为0 </span><br><span class="line">	int coordinates[201][201]=&#123;0&#125;; </span><br><span class="line">	int n;//出租站的总数</span><br><span class="line">	while(cin&gt;&gt;n)&#123;</span><br><span class="line">		for(int i=1;i&lt;n;i++)&#123;</span><br><span class="line">			for(int j=i+1;j&lt;=n;j++)&#123;</span><br><span class="line">				cin&gt;&gt;coordinates[i][j];</span><br><span class="line">				//每一次判断之后都将最短距离放到1的位置，然后到最后输出这个值即可。 </span><br><span class="line">				if(coordinates[1][j]&gt;coordinates[1][i]+coordinates[i][j])&#123;</span><br><span class="line">					coordinates[1][j]=coordinates[1][i]+coordinates[i][j];</span><br><span class="line">				&#125; </span><br><span class="line">			&#125;</span><br><span class="line">		&#125; </span><br><span class="line">		cout&lt;&lt;coordinates[1][n]&lt;&lt;endl;</span><br><span class="line">	&#125; </span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="结果">结果</span></h3><p><img src="/2019/06/12/Renting-Boats/1.jpg" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/06/11/Chrome插件-Vimium/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/11/Chrome插件-Vimium/" itemprop="url">Chrome插件-Vimium</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-11T13:43:41+08:00">
                2019-06-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/其它/" itemprop="url" rel="index">
                    <span itemprop="name">其它</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  26
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#下载链接">下载链接</a></li>
<li><a href="#快捷键">快捷键</a></li>
<li><a href="#官网">官网</a></li>
</ul>
<!-- tocstop -->
<h2><span id="下载链接">下载链接</span></h2><p><a href="https://chrome.google.com/webstore/detail/vimium/dbepggeogbaibhgnhhndojpepiihcmeb" target="_blank" rel="noopener">传送门</a></p>
<h2><span id="快捷键">快捷键</span></h2><p><img src="/2019/06/11/Chrome插件-Vimium/快捷键.jpg" alt=""></p>
<h2><span id="官网">官网</span></h2><p><a href="https://vimium.github.io/" target="_blank" rel="noopener">Vimium官网</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/06/10/Boyer–Moore–Horspool-algorithm/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/10/Boyer–Moore–Horspool-algorithm/" itemprop="url">Boyer–Moore–Horspool algorithm</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-10T09:55:39+08:00">
                2019-06-10
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.3k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  7
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#boyermoorehorspool-algorithm">Boyer–Moore–Horspool algorithm</a><ul>
<li><a href="#题目介绍">题目介绍</a></li>
<li><a href="#输入">输入</a></li>
<li><a href="#输出">输出</a></li>
<li><a href="#样例输入">样例输入</a></li>
<li><a href="#样例输出">样例输出</a></li>
<li><a href="#代码">代码</a></li>
<li><a href="#结果">结果</a></li>
<li><a href="#参考资料">参考资料</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<h2><span id="boyermoorehorspool-algorithm">Boyer–Moore–Horspool algorithm</span></h2><h3><span id="题目介绍">题目介绍</span></h3><p>The Boyer–Moore string search algorithm is a particularly efficient string searching algorithm. It was developed by Bob Boyer and J Strother Moore in 1977. The algorithm preprocesses the target string (key) that is being searched for, but not the string being searched (unlike some algorithms which preprocess the string to be searched, and can then amortize the expense of the preprocessing by searching repeatedly). The execution time of the Boyer-Moore algorithm can actually be sub-linear: it doesn’t need to actually check every character of the string to be searched but rather skips over some of them. Generally the algorithm gets faster as the key being searched for becomes longer. Its efficiency derives from the fact that, with each unsuccessful attempt to find a match between the search string and the text it’s searching in, it uses the information gained from that attempt to rule out as many positions of the text as possible where the string could not match. How the algorithm works What people frequently find surprising about the Boyer-Moore algorithm when they first encounter it is that its verifications – its attempts to check whether a match exists at a particular position – work backwards. If it starts a search at the beginning of a text for the word “ANPANMAN”, for instance, it checks the eighth position of the text to see if it contains an “N”. If it finds the “N”, it moves to the seventh position to see if that contains the last “A” of the word, and so on until it checks the first position of the text for a “A”. Why Boyer-Moore takes this backward approach is clearer when we consider what happens if the verification fails – for instance, if instead of an “N” in the eighth position, we find an “X”. The “X” doesn’t appear anywhere in “ANPANMAN”, and this means there is no match for the search string at the very start of the text – or at the next seven positions following it, since those would all fall across the “X” as well. After checking just one character, we’re able to skip ahead and start looking for a match starting at the ninth position of the text, just after the “X”. This explains why the best-case performance of the algorithm, for a text of length N and a fixed pattern of length M, is N/M: in the best case, only one in M characters needs to be checked. This also explains the somewhat counter-intuitive result that the longer the pattern we are looking for, the faster the algorithm will be usually able to find it. The algorithm precomputes two tables to process the information it obtains in each failed verification: one table calculates how many positions ahead to start the next search based on the identity of the character that caused the match attempt to fail; the other makes a similar calculation based on how many characters were matched successfully before the match attempt failed. (Because these two tables return results indicating how far ahead in the text to “jump”, they are sometimes called “jump tables”, which should not be confused with the more common meaning of jump tables in computer science.) the first table The first table is easy to calculate: Start at the last character of the sought string and move towards the first character. Each time you move left, if the character you are on is not in the table already, add it; its Shift value is its distance from the rightmost character. All other characters receive a count equal to the length of the search string. Example: For the string ANPANMAN, the first table would be as shown (for clarity, entries are shown in the order they would be added to the table):  The amount of shift calculated by the first table is sometimes called the “bad character shift”[1]. the second table The second table is slightly more difficult to calculate: for each value of i less than the length of the search string, we must first calculate the pattern consisting of the last i characters of the search string, preceded by a mis-match for the character before it; then we initially line it up with the search pattern and determine the least number of characters the partial pattern must be shifted left before the two patterns match. For instance, for the search string ANPANMAN, the table would be as follows: (N signifies any character that is not N)   The amount of shift calculated by the second table is sometimes called the “good suffix shift”[2] or “(strong) good suffix rule”. The original published Boyer-Moor algorithm [1] uses a simpler, weaker, version of the good suffix rule in which each entry in the above table did not require a mis-match for the left-most character. This is sometimes called the “weak good suffix rule” and is not sufficient for proving that Boyer-Moore runs in linear worst-case time. Performance of the Boyer-Moore string search algorithm The worst-case to find all occurrences in a text needs approximately 3<em>N comparisons, hence the complexity is O(n), regardless whether the text contains a match or not. The proof is due to Richard Cole, see R. COLE, Tight bounds on the complexity of the Boyer-Moore algorithm, Proceedings of the 2nd Annual ACM-SIAM Symposium on Discrete Algorithms, (1991) for details. This proof took some years to determine. In the year the algorithm was devised, 1977, the maximum number of comparisons was shown to be no more than 6</em>N; in 1980 it was shown to be no more than 4*N, until Cole’s result in 1991. References 1. ^ R. S. Boyer; J. S. Moore (1977). “A fast string searching algorithm”. Comm. ACM 20: 762-772.</p>
<h3><span id="输入">输入</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">two lines and only characters “ACGT” in the string.</span><br><span class="line">the first line is string (&lt; = 102000)</span><br><span class="line">the second line is text(&lt; = 700000)</span><br></pre></td></tr></table></figure>
<h3><span id="输出">输出</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">position of the string in text</span><br><span class="line">else -1</span><br></pre></td></tr></table></figure>
<h3><span id="样例输入">样例输入</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GGCCTCATATCTCTCT</span><br><span class="line">CCCATTGGCCTCATATCTCTCTCCCTCCCTCCCCTGCCCAGGCTGCTTGGCATGG</span><br></pre></td></tr></table></figure>
<h3><span id="样例输出">样例输出</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6</span><br></pre></td></tr></table></figure>
<h3><span id="代码">代码</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">//全局变量 </span><br><span class="line">int table[26];</span><br><span class="line"></span><br><span class="line">void shiftTable(char str[]) &#123;</span><br><span class="line">	//将字符串的长度赋值给lens </span><br><span class="line">	int lens = strlen(str);</span><br><span class="line">	 </span><br><span class="line">	table[str[lens - 1] - &apos;A&apos;] = lens;</span><br><span class="line">	for (int i = 0; i &lt; lens - 1; i++) &#123;</span><br><span class="line">		table[str[i] - &apos;A&apos;] = lens - i - 1;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int horspoolMatch(char str[], char text[]) &#123;</span><br><span class="line">	int i, k;</span><br><span class="line">	int strlens = strlen(str);</span><br><span class="line">	int textlens = strlen(text);</span><br><span class="line"></span><br><span class="line">	i = strlens - 1;</span><br><span class="line">	shiftTable(str);</span><br><span class="line">	while(i &lt;= textlens - 1) &#123;</span><br><span class="line">		//用来寻找text是否匹配好了 </span><br><span class="line">		k = 0;</span><br><span class="line">		while(str[strlens - 1 - k] == text[i - k] &amp;&amp; k &lt;= strlens - 1 ) &#123;</span><br><span class="line">			k++;</span><br><span class="line">		&#125;</span><br><span class="line">		if (k == strlens) &#123;</span><br><span class="line">			//直接返回下标 </span><br><span class="line">			return i - strlens + 1;</span><br><span class="line">		&#125; else &#123;</span><br><span class="line">			//通过i自增控制匹配的位置 </span><br><span class="line">			i += table[text[i] - &apos;A&apos;];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	return -1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">	int pos;</span><br><span class="line">	//这里是题目的限制 </span><br><span class="line">	char str[102001], text[700001];</span><br><span class="line">	cin&gt;&gt;str&gt;&gt;text;</span><br><span class="line">	// Boyer–Moore–Horspool algorithm </span><br><span class="line">	pos = horspoolMatch(str, text);</span><br><span class="line">	cout&lt;&lt;pos&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="结果">结果</span></h3><p><img src="/2019/06/10/Boyer–Moore–Horspool-algorithm/1.jpg" alt=""></p>
<h3><span id="参考资料">参考资料</span></h3><p><a href="https://www.cnblogs.com/en-heng/p/5095542.html" target="_blank" rel="noopener">【模式匹配】更快的Boyer-Moore算法</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/06/09/Python学习笔记（五）/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/09/Python学习笔记（五）/" itemprop="url">Python学习笔记（五）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-09T07:14:16+08:00">
                2019-06-09
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  429
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#高阶函数">高阶函数</a><ul>
<li><a href="#特性">特性</a></li>
<li><a href="#mapreduce">map/reduce</a></li>
<li><a href="#filter">filter</a></li>
<li><a href="#sorted">sorted</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<h2><span id="高阶函数">高阶函数</span></h2><h3><span id="特性">特性</span></h3><p>变量可以指向函数。</p>
<p>函数名其实也是变量名。</p>
<p>函数可以接受另一个函数作为参数。</p>
<h3><span id="mapreduce">map/reduce</span></h3><p><strong>map()函数接收两个参数，一个是函数，一个是Iterable，map将传入的函数依次作用到序列的每个元素，并把结果作为新的Iterator返回。</strong></p>
<p>简单用法如下：</p>
<p><img src="/2019/06/09/Python学习笔记（五）/1.jpg" alt=""></p>
<p>代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test=list(map(str, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]))</span><br><span class="line">print(test)</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">D:\python.code\venv\Scripts\python.exe &quot;D:/python.code/Higher-order function.py&quot;</span><br><span class="line">[&apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;, &apos;6&apos;, &apos;7&apos;, &apos;8&apos;, &apos;9&apos;]</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<p>reduce把一个函数作用在一个序列[x1, x2, x3, …]上，这个函数必须接收两个参数，reduce把结果继续和序列的下一个元素做<strong>累积计算</strong>。</p>
<p>reduce更多的是和其他的高阶函数配合使用，效果极佳。</p>
<p>简单实例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">from functools import reduce</span><br><span class="line">def add(x, y):</span><br><span class="line">   return x + y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">test1=reduce(add, [1, 3, 5, 7, 9])</span><br><span class="line">print(test1)</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">25</span><br></pre></td></tr></table></figure>
<h3><span id="filter">filter</span></h3><p>作用是<strong>过滤。</strong></p>
<p><strong>filter()也是接受两个参数——一个函数一个序列，把传入的函数依次作用于每个元素，然后根据返回值是True还是False决定保留还是丢弃该元素。</strong></p>
<p>值得注意的是——<strong>由于filter()使用了惰性计算，所以只有在取filter()结果的时候，才会真正筛选并每次返回下一个筛出的元素。</strong></p>
<h3><span id="sorted">sorted</span></h3><p>sort是一个高阶函数，可以接收一个<strong>key函数</strong>来实现自定义的排序。</p>
<p>简单实例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#排序</span><br><span class="line">test=sorted([&apos;bob&apos;, &apos;about&apos;, &apos;Zoo&apos;, &apos;Credit&apos;], key=str.lower)</span><br><span class="line">print(test)</span><br></pre></td></tr></table></figure>
<p><img src="/2019/06/09/Python学习笔记（五）/2.jpg" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/06/08/Python学习笔记（四）/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/08/Python学习笔记（四）/" itemprop="url">Python学习笔记（四）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-08T15:42:24+08:00">
                2019-06-08
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.1k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  4
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#高级特性">高级特性</a><ul>
<li><a href="#切片">切片</a></li>
<li><a href="#迭代">迭代</a></li>
<li><a href="#列表生成器">列表生成器</a></li>
<li><a href="#生成器">生成器</a></li>
<li><a href="#迭代器">迭代器</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<h2><span id="高级特性">高级特性</span></h2><p>之前已经提到过关于Python的一部分特性了，众所周知，Python不是说代码越多越复杂越好，需要的是更方便的解决问题以最少的代码最优的解法是最好的，这也是高级特性的来源。</p>
<h3><span id="切片">切片</span></h3><p>在其它编译语言中如果要获得一个集合中的一部分元素我们通常的操作都是直接循环然后取，但是Python中有更方便的方式——切片——<strong>取指定索引范围的操作。</strong></p>
<p>简单实例：</p>
<p><img src="/2019/06/08/Python学习笔记（四）/1.jpg" alt=""></p>
<p>简单解释：</p>
<p><strong>Test[0:2]</strong>代表的是从索引0开始然后直到索引2为止（<strong>不包括索引2</strong>），在图中的实例中可以看到刚好两个元素。</p>
<p>特性：</p>
<p>既然正序可以，那么逆序（从后向前）也是可以的，但是注意，倒序（逆序）的时候——<strong>倒数第一个元素的索引是-1。</strong></p>
<p>list与tuple都可以切片操作，但是<strong>tuple切片出来还是tuple。</strong></p>
<p>对于字符串来说，切片也是可以使用的，某些地方可以使用切片来模拟Python本身提供的有些字符串函数，只是字符串切片出来之后也还是字符串。</p>
<h3><span id="迭代">迭代</span></h3><p>迭代这个词语其实也不陌生，平时熟悉的for循环遍历数组其实就是迭代。</p>
<p>但是在for循环中我们还有下标来执行迭代，在Python中有些可迭代对象却无法有下标，所以这就产生了Python特有的迭代。</p>
<p>判断是否可迭代：</p>
<p><strong>通过collections模块的Iterable类型判断。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from collections.abc import Iterable</span><br><span class="line">print(isinstance(&apos;thbelief&apos;,Iterable))</span><br><span class="line">print(isinstance([&apos;a&apos;,&apos;v&apos;],Iterable))</span><br><span class="line">print(isinstance(520,Iterable))</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">D:\python.code\venv\Scripts\python.exe &quot;D:/python.code/Advanced features - iteration.py&quot;</span><br><span class="line">True</span><br><span class="line">True</span><br><span class="line">False</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<p>当然，也不是不可以通过下标类似的方法来访问：</p>
<p>Python内置的<strong>enumerate函数</strong>可以把一个list变成<strong>索引-元素对</strong>，这样就可以在for循环中同时迭代索引和元素本身：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for i, value in enumerate([&apos;A&apos;, &apos;B&apos;, &apos;C&apos;]):</span><br><span class="line">    print(i, value)</span><br></pre></td></tr></table></figure>
<p>结果：</p>
<p><img src="/2019/06/08/Python学习笔记（四）/2.jpg" alt=""></p>
<h3><span id="列表生成器">列表生成器</span></h3><p>一个<strong>快捷生成list</strong>的生成式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#Code</span><br><span class="line"># 简单的生成式</span><br><span class="line">test=list(range(1,10))</span><br><span class="line">print(test)</span><br><span class="line"># 自定义生成式</span><br><span class="line">test=list(x*x for x in range(1,10))</span><br><span class="line">print(test)</span><br><span class="line">test=list(x*x for x in range(1,10) if x%3==0)</span><br><span class="line">print(test)</span><br></pre></td></tr></table></figure>
<p><img src="/2019/06/08/Python学习笔记（四）/3.jpg" alt=""></p>
<p>自定义生成式其实可以套多重循环来筛选等等，这里只是简单的介绍一下。</p>
<h3><span id="生成器">生成器</span></h3><p>Python中提供的<strong>一边循环一边计算</strong>的机制。</p>
<p>来源：通过列表生成式，我们可以直接创建一个列表。但是，受到内存限制，列表容量肯定是有限的。而且，创建一个包含100万个元素的列表，不仅占用很大的存储空间，如果我们仅仅需要访问前面几个元素，那后面绝大多数元素占用的空间都白白浪费了。如果一边循环一边计算就很方便了。</p>
<p>生成器的元素是不可以直接打印每一个元素的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#正常列表生成式</span><br><span class="line">test=[x * x for x in range(10)]</span><br><span class="line">print(test)</span><br><span class="line">#创建生成器</span><br><span class="line">test=(x * x for x in range(10))</span><br><span class="line">print(test)</span><br></pre></td></tr></table></figure>
<p>结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">D:\python.code\venv\Scripts\python.exe &quot;D:/python.code/Advanced features - generator.py&quot;</span><br><span class="line">[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span><br><span class="line">&lt;generator object &lt;genexpr&gt; at 0x00000297D47BAA98&gt;</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
<p>为什么会出现这种情况呢？前面说过生成器是<strong>边循环边计算。</strong></p>
<p>使用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#创建生成器</span><br><span class="line">test=(x * x for x in range(10))</span><br><span class="line">print(test)</span><br><span class="line">#第一种就是单纯的next下去</span><br><span class="line">print(&quot;next:&quot;)</span><br><span class="line">print(next(test))</span><br><span class="line">print(next(test))</span><br><span class="line">print(next(test))</span><br><span class="line">#第二种是循环</span><br><span class="line">print(&quot;循环&quot;)</span><br><span class="line">for i in test:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>
<p>结果：</p>
<p><img src="/2019/06/08/Python学习笔记（四）/4.jpg" alt=""></p>
<h3><span id="迭代器">迭代器</span></h3><p><strong>可以直接作用于for循环的对象统称为可迭代对象：Iterable。</strong></p>
<p><strong>可以被next()函数调用并不断返回下一个值的对象称为迭代器：Iterator。</strong></p>
<p>判断是否是一个迭代器对象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from collections.abc import Iterator</span><br><span class="line"></span><br><span class="line">print(isinstance((x for x in range(10)), Iterator))</span><br><span class="line">print(isinstance(&apos;abc&apos;, Iterator))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">True</span><br><span class="line">False</span><br></pre></td></tr></table></figure>
<p>Python的Iterator对象表示的是一个<strong>数据流</strong>，Iterator对象可以被next()函数调用并不断返回下一个数据，直到没有数据时抛出<strong>StopIteration错误</strong>。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/06/07/最长公共子串动态规划解法/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/07/最长公共子串动态规划解法/" itemprop="url">最长公共子串动态规划解法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-07T12:07:48+08:00">
                2019-06-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  292
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#定义">定义</a></li>
<li><a href="#效果">效果</a></li>
<li><a href="#代码">代码</a></li>
</ul>
<!-- tocstop -->
<h2><span id="定义">定义</span></h2><p>所谓的最大子序列即：<strong>只要前i项的和还没有小于0那么子序列就一直向后扩展，否则丢弃之前的子序列开始新的子序列，同时我们要记下各个子序列的和，最后找到和最大的子序列。</strong></p>
<h2><span id="效果">效果</span></h2><p><img src="/2019/06/07/最长公共子串动态规划解法/1.jpg" alt=""></p>
<h2><span id="代码">代码</span></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;string&gt;</span><br><span class="line">#include&lt;cstring&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">	string str1,str2;</span><br><span class="line">	//字符串AB的输入（其实也可以自己改进为从文本读入） </span><br><span class="line">	cout&lt;&lt;&quot;字符串A：&quot;; </span><br><span class="line">	cin&gt;&gt;str1;</span><br><span class="line">	cout&lt;&lt;&quot;字符串B：&quot;; </span><br><span class="line">	cin&gt;&gt;str2;</span><br><span class="line">	</span><br><span class="line">	int row = 0;</span><br><span class="line">	int col = str2.size();</span><br><span class="line">	int end_index=0;//最后一个的下标 </span><br><span class="line">	int max_len = 0;//最长子串长度 </span><br><span class="line">	while(row &lt; str1.size()) &#123;</span><br><span class="line">		int i = row;</span><br><span class="line">		int j = col;</span><br><span class="line">		int pre = 0;</span><br><span class="line">		while(i&lt;str1.size()&amp;&amp; j &lt;str2.size()) &#123;</span><br><span class="line">			if(str1[i]==str2[j]) &#123;</span><br><span class="line">				pre+=1;</span><br><span class="line">				if(pre&gt;max_len) &#123;</span><br><span class="line">					max_len = pre;</span><br><span class="line">					end_index = i;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; else &#123;</span><br><span class="line">				pre =0;</span><br><span class="line">			&#125;</span><br><span class="line">			i++;</span><br><span class="line">			j++;</span><br><span class="line">		&#125;</span><br><span class="line">		if(col &gt;0) &#123;</span><br><span class="line">			col --;</span><br><span class="line">		&#125; else &#123;</span><br><span class="line">			row ++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;&quot;字符串AB的最长公共子串：&quot;&lt;&lt;endl; </span><br><span class="line">	for(int i =end_index -max_len+1; i&lt;=end_index; i++) cout&lt;&lt;str1[i];</span><br><span class="line">	cout&lt;&lt;endl;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/06/06/BiliBili全屏弹幕发送-回车/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/06/BiliBili全屏弹幕发送-回车/" itemprop="url">BiliBili全屏弹幕发送(回车)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-06T13:18:09+08:00">
                2019-06-06
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  659
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  3
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#前言">前言</a></li>
<li><a href="#正文">正文</a><ul>
<li><a href="#简单介绍">简单介绍</a><ul>
<li><a href="#功能介绍">功能介绍</a></li>
<li><a href="#使用方法">使用方法</a></li>
<li><a href="#源码地址">源码地址</a></li>
</ul>
</li>
<li><a href="#源码">源码</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<h2><span id="前言">前言</span></h2><p>今天闲得无聊，为了娱乐一下，写了一个脚本。</p>
<h2><span id="正文">正文</span></h2><h3><span id="简单介绍">简单介绍</span></h3><p><img src="/2019/06/06/BiliBili全屏弹幕发送-回车/1.jpg" alt=""></p>
<p>脚本链接：<a href="https://greasyfork.org/zh-CN/scripts/384604-bilibili%E5%85%A8%E5%B1%8F%E5%BC%B9%E5%B9%95%E5%8F%91%E9%80%81-%E5%9B%9E%E8%BD%A6" target="_blank" rel="noopener">传送门</a></p>
<h5><span id="功能介绍">功能介绍</span></h5><p>在B站看视频的时候全屏状态下默认是不能发送弹幕的，这个脚本的功能就是在全屏状态下回车键弹出发送弹幕的sendbar~</p>
<h5><span id="使用方法">使用方法</span></h5><p>在全屏状态下回车即可弹出弹幕发送框。<br>直接输入想发送的句子，再回车即可发送出去并且默认关闭此弹幕发送框。</p>
<h5><span id="源码地址">源码地址</span></h5><p>​        <a href="https://github.com/thbelief/BiliBili-Full-screen-barrage" target="_blank" rel="noopener">https://github.com/thbelief/BiliBili-Full-screen-barrage</a></p>
<p>欢迎去fork或者star~</p>
<h3><span id="源码">源码</span></h3><p>可能后面还会更新，看情况吧~</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ==UserScript==</span></span><br><span class="line"><span class="comment">// @name         BiliBili全屏弹幕发送(回车)</span></span><br><span class="line"><span class="comment">// @namespace    https://github.com/thbelief/BiliBili-Full-screen-barrage</span></span><br><span class="line"><span class="comment">// @version      1.0.0</span></span><br><span class="line"><span class="comment">// @description  在B站看视频的时候全屏状态下默认是不能发送弹幕的，这个脚本的功能就是在全屏状态下回车键弹出发送弹幕的sendbar~</span></span><br><span class="line"><span class="comment">// @author       thbelief</span></span><br><span class="line"><span class="comment">// @match        *://www.bilibili.com/bangumi/play/ep*</span></span><br><span class="line"><span class="comment">// @match        *://www.bilibili.com/bangumi/play/ss*</span></span><br><span class="line"><span class="comment">// @match        *://www.bilibili.com/video/av*</span></span><br><span class="line"><span class="comment">// @match        *://www.bilibili.com/watchlater/*</span></span><br><span class="line"><span class="comment">// @grant        GM_setValue</span></span><br><span class="line"><span class="comment">// @grant        GM_getValue</span></span><br><span class="line"><span class="comment">// ==/UserScript==</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">    'use strict'</span>;</span><br><span class="line">    <span class="comment">//选择</span></span><br><span class="line">    <span class="keyword">const</span> q = <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> nodes = [];</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> selector === <span class="string">'string'</span>) &#123;</span><br><span class="line">            <span class="built_in">Object</span>.assign(nodes, <span class="built_in">document</span>.querySelectorAll(selector));</span><br><span class="line">            nodes.selectorStr = selector;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (selector <span class="keyword">instanceof</span> NodeList) &#123;</span><br><span class="line">            <span class="built_in">Object</span>.assign(nodes, selector);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (selector <span class="keyword">instanceof</span> Node) &#123;</span><br><span class="line">            nodes = [selector];</span><br><span class="line">        &#125;</span><br><span class="line">        nodes.click = <span class="function"><span class="keyword">function</span> (<span class="params">index = <span class="number">0</span></span>) </span>&#123;</span><br><span class="line">            nodes.length &gt; index &amp;&amp; nodes[index].click();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        nodes.addClass = <span class="function"><span class="keyword">function</span> (<span class="params">classes, index = <span class="number">0</span></span>) </span>&#123;</span><br><span class="line">            nodes.length &gt; index &amp;&amp; nodes[index].classList.add(classes);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        nodes.removeClass = <span class="function"><span class="keyword">function</span> (<span class="params">classes, index = <span class="number">0</span></span>) </span>&#123;</span><br><span class="line">            nodes.length &gt; index &amp;&amp; nodes[index].classList.remove(classes);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        nodes.css = <span class="function"><span class="keyword">function</span> (<span class="params">name, value, index = <span class="number">0</span></span>) </span>&#123;</span><br><span class="line">            nodes.length &gt; index &amp;&amp; nodes[index].style.setProperty(name, value);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        nodes.getCss = <span class="function"><span class="keyword">function</span> (<span class="params">name, index = <span class="number">0</span></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> nodes.length &gt; index &amp;&amp; nodes[index].ownerDocument.defaultView.getComputedStyle(nodes[index], <span class="literal">null</span>).getPropertyValue(name);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nodes;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> isSendBarExist=<span class="literal">false</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">doIt</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//监控是否按下回车键</span></span><br><span class="line">        <span class="built_in">document</span>.onkeydown = <span class="function"><span class="keyword">function</span> (<span class="params">eTest</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (!eTest) eTest = <span class="built_in">window</span>.event;</span><br><span class="line">            <span class="keyword">if</span> ((eTest.keyCode || eTest.which) == <span class="number">13</span>) &#123;</span><br><span class="line">                <span class="comment">// 判断是否是全屏</span></span><br><span class="line">                <span class="keyword">let</span> isFullScreen = <span class="built_in">document</span>.isFullScreen || <span class="built_in">document</span>.mozIsFullScreen || <span class="built_in">document</span>.webkitIsFullScreen;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">"是否全屏状态："</span>+isFullScreen);</span><br><span class="line">               </span><br><span class="line">                <span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">"提示：在全屏状态下按了回车键！"</span>);</span><br><span class="line">                    <span class="keyword">if</span>(isSendBarExist)&#123;</span><br><span class="line">                        isSendBarExist=<span class="literal">false</span>;</span><br><span class="line">                        <span class="built_in">console</span>.log(<span class="string">"提示：已隐藏发送弹幕按钮！"</span>);</span><br><span class="line">                        q(<span class="string">'.bilibili-player-video-sendbar'</span>).css(<span class="string">'opacity'</span>, <span class="number">0</span>).css(<span class="string">'display'</span>, <span class="string">'none'</span>)[<span class="number">0</span>];</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        isSendBarExist=<span class="literal">true</span>;</span><br><span class="line">                        <span class="built_in">console</span>.log(<span class="string">"提示：已显示发送弹幕按钮！"</span>);</span><br><span class="line">                        <span class="comment">//老版</span></span><br><span class="line">                        q(<span class="string">'.bilibili-player-video-sendbar'</span>).css(<span class="string">'opacity'</span>, <span class="number">1</span>).css(<span class="string">'display'</span>, <span class="string">'flex'</span>);</span><br><span class="line">                        </span><br><span class="line">                        <span class="comment">//使输入框自动获得焦点</span></span><br><span class="line">                        $(<span class="string">'input'</span>).focus();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;;</span><br><span class="line">                <span class="keyword">if</span>(isFullScreen)&#123;</span><br><span class="line">                    <span class="comment">//如果是全屏状态的话，就进行回车键弹出发送弹幕的效果</span></span><br><span class="line">                    fun();</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">"提示：未进入全屏状态！"</span>);</span><br><span class="line">                    </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">   doIt();</span><br><span class="line">    </span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/06/05/JavaScript学习笔记-十八/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/05/JavaScript学习笔记-十八/" itemprop="url">JavaScript学习笔记(十八)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-05T19:42:20+08:00">
                2019-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  952
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  3
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#underscore库">underscore库</a><ul>
<li><a href="#简单介绍">简单介绍</a></li>
<li><a href="#collections">Collections</a><ul>
<li><a href="#mapfilter">map/filter</a></li>
<li><a href="#everysome">every/some</a></li>
<li><a href="#maxmin">max/min</a></li>
<li><a href="#groupby">groupBy</a></li>
<li><a href="#shuffle-sample">shuffle / sample</a></li>
</ul>
</li>
<li><a href="#arrays">Arrays</a><ul>
<li><a href="#firstlast">first/last</a></li>
<li><a href="#flatten">flatten</a></li>
<li><a href="#zipunzip">zip/unzip</a></li>
<li><a href="#object">object</a></li>
<li><a href="#range">range</a></li>
</ul>
</li>
<li><a href="#functions">Functions</a></li>
<li><a href="#objects">Objects</a></li>
<li><a href="#chaining">Chaining</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<h2><span id="underscore库">underscore库</span></h2><h3><span id="简单介绍">简单介绍</span></h3><p>JS是函数式的编程语言，支持高阶函数以及闭包，为了更方便的使用函数式的编程以及尽量减少浏览器之间的差异，这里就应运而生了这个库。</p>
<p>还有就是，这个库绑定之后是可以直接通过object使用的，而原生的array的方法不能直接给object使用，这也是它的优势所在。</p>
<p><strong>underscore会把自身绑定到唯一的全局变量_上</strong>，这也是它名字的来源（下划线）。</p>
<h3><span id="collections">Collections</span></h3><p>collections是集合类（Array+Object），underscore为集合类提供了对应的接口。</p>
<h4><span id="mapfilter">map/filter</span></h4><p>和原本的Array的map/filter是类似的，但是underscore的是支持object的，当作用给object的时候，传入的函数是：</p>
<p>(第一个参数是value，第二个参数是key)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function (value, key)</span><br></pre></td></tr></table></figure>
<p>简单实例如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&apos;use strict&apos;;</span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">    name: &apos;thbelief&apos;,</span><br><span class="line">    school: &apos;test school&apos;,</span><br><span class="line">    address: &apos;XI road&apos;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var upper = _.map(obj, function (value, key) &#123;</span><br><span class="line">    return ???;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4><span id="everysome">every/some</span></h4><p>当集合的<strong>所有元素</strong>都满足条件时，.every()函数返回true，当集合的<strong>至少一个元素</strong>满足条件时，.some()函数返回true.</p>
<h4><span id="maxmin">max/min</span></h4><p>这两个函数就是返回当前集合中的最大/最小数。</p>
<h4><span id="groupby">groupBy</span></h4><p>groupBy()把集合的元素<strong>按照key归类</strong>。（key由传入的函数返回）</p>
<h4><span id="shuffle-sample">shuffle / sample</span></h4><p>shuffle()用洗牌算法<strong>随机打乱一个集合</strong>，sample()则是<strong>随机选择一个或多个元素</strong>。</p>
<h3><span id="arrays">Arrays</span></h3><p>underscore为Array专门的提供了许多的工具类方法，很方便实用。</p>
<h4><span id="firstlast">first/last</span></h4><p>取第一个和最后一个元素。</p>
<h4><span id="flatten">flatten</span></h4><p>这个函数会接收一个Array，无论这个Array里面嵌套多少的Array，最后都会被这个函数给<strong>变成一个一维数组。</strong></p>
<h4><span id="zipunzip">zip/unzip</span></h4><p>zip()会把两个或多个数组的所有元素按索引对齐，然后按<strong>索引</strong>合并成新数组。</p>
<p>unzip()的作用和zip刚好相反。</p>
<h4><span id="object">object</span></h4><p>这个只是和JS中的对象object同名，但是是个函数。</p>
<p><strong>将元素一一对应成object。</strong></p>
<p>简单实例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&apos;use strict&apos;;</span><br><span class="line"></span><br><span class="line">var names = [&apos;Adam&apos;, &apos;Lisa&apos;, &apos;Bart&apos;];</span><br><span class="line">var scores = [85, 92, 59];</span><br><span class="line">_.object(names, scores);</span><br></pre></td></tr></table></figure>
<h4><span id="range">range</span></h4><p><strong>快速生成一个序列。</strong>（神奇，取代for循环）</p>
<h3><span id="functions">Functions</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">bind 修复当使用一个变量指向一个对象的方法时，出现的无法直接调用该方法的问题。(丢失this对象引用)</span><br><span class="line">partial 一个函数创建偏函数。</span><br><span class="line">memoize 自动缓存函数计算结果。</span><br><span class="line">once 保证某个函数执行且仅执行一次。</span><br><span class="line">delay 让一个函数延时执行。（和setTimeout差不多）</span><br></pre></td></tr></table></figure>
<h3><span id="objects">Objects</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">keys 返回一个object自身所有的key，但不包含从原型链继承下来的.</span><br><span class="line">allKeys 返回除了object自身的key，还包含从原型链继承下来的，即所有的。</span><br><span class="line">values 返回object自身但不包含原型链继承的所有值。</span><br><span class="line">mapObject 针对object的map版本。</span><br><span class="line">invert 把object的每个key-value来个交换，key变成value，value变成key。</span><br><span class="line">extend 把多个object的key-value合并到第一个object并返回。</span><br><span class="line">extendOwn 把多个object的key-value合并到第一个object并返回。（忽略获取属性时忽略从原型链继承下来的属性）</span><br><span class="line">clone 把原有对象的所有属性都复制到新的对象。</span><br><span class="line">isEqual 对两个object进行深度比较，如果内容完全相同，则返回true。（Array其实也可以使用）</span><br></pre></td></tr></table></figure>
<h3><span id="chaining">Chaining</span></h3><p>underscore其实也是<strong>支持链式调用</strong>的。使用的方法是——chain()。</p>
<p>简单实例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var r = _.chain([1, 4, 9, 16, 25])</span><br><span class="line">         .map(Math.sqrt)</span><br><span class="line">         .filter(x =&gt; x % 2 === 1)</span><br><span class="line">         .value();</span><br></pre></td></tr></table></figure>
<p>值得注意的是——<strong>由于每一步返回的都是对象，所以最后一步的结果必须通过value方法来获得最终的结果。</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/06/04/Android-USBPrompt开发/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/04/Android-USBPrompt开发/" itemprop="url">Android-USBPrompt开发</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-04T11:55:24+08:00">
                2019-06-04
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/移动端开发/" itemprop="url" rel="index">
                    <span itemprop="name">移动端开发</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/移动端开发/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  5
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#usbprompt">USBPrompt</a><ul>
<li><a href="#下载网址">下载网址</a></li>
<li><a href="#开源项目">开源项目</a></li>
<li><a href="#简单介绍">简单介绍</a></li>
<li><a href="#关键代码">关键代码</a></li>
<li><a href="#效果">效果</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<h2><span id="usbprompt">USBPrompt</span></h2><p>今天花费几个小时写的一个小东西，主要就是娱乐用的，还是蛮开心的啊哈哈~</p>
<h3><span id="下载网址">下载网址</span></h3><p><a href="https://fir.im/1tf6" target="_blank" rel="noopener">传送门</a></p>
<h3><span id="开源项目">开源项目</span></h3><p><a href="https://github.com/thbelief/USBPrompt" target="_blank" rel="noopener">传送门</a></p>
<p>欢迎fork或者star~</p>
<h3><span id="简单介绍">简单介绍</span></h3><p>这个软件其实是个不怎么正经的软件，当然灵感来源就不说了，只是单纯的充电宝插拔的时候启发了我。</p>
<p>实现起来很简单——<strong>检测电源插拔，加载相应的mp3文件</strong>就可以了，别问我哪里来的资源文件，咳咳。</p>
<h3><span id="关键代码">关键代码</span></h3><p>这个类用于检测电源情况，主要是为了扩展写这么多。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @ProjectName: USBPrompt</span><br><span class="line"> * @Package: com.example.usbprompt</span><br><span class="line"> * @ClassName: BatteryListener</span><br><span class="line"> * @Description: 电源监测</span><br><span class="line"> * @Author: thbelief</span><br><span class="line"> * @CreateDate: 2019/6/3 12:30</span><br><span class="line"> */</span><br><span class="line">public class BatteryListener &#123;</span><br><span class="line"></span><br><span class="line">    private Context mContext;</span><br><span class="line"></span><br><span class="line">    private BatteryBroadcastReceiver receiver;</span><br><span class="line"></span><br><span class="line">    private BatteryStateListener mBatteryStateListener;</span><br><span class="line"></span><br><span class="line">    public BatteryListener(Context context) &#123;</span><br><span class="line">        mContext = context;</span><br><span class="line">        receiver = new BatteryBroadcastReceiver();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void register(BatteryStateListener listener) &#123;</span><br><span class="line">        mBatteryStateListener = listener;</span><br><span class="line">        if (receiver != null) &#123;</span><br><span class="line">            IntentFilter filter = new IntentFilter();</span><br><span class="line">            filter.addAction(Intent.ACTION_BATTERY_CHANGED);</span><br><span class="line">            filter.addAction(Intent.ACTION_BATTERY_LOW);</span><br><span class="line">            filter.addAction(Intent.ACTION_BATTERY_OKAY);</span><br><span class="line">            filter.addAction(Intent.ACTION_POWER_CONNECTED);</span><br><span class="line">            filter.addAction(Intent.ACTION_POWER_DISCONNECTED);</span><br><span class="line">            mContext.registerReceiver(receiver, filter);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void unregister() &#123;</span><br><span class="line">        if (receiver != null) &#123;</span><br><span class="line">            mContext.unregisterReceiver(receiver);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private class BatteryBroadcastReceiver extends BroadcastReceiver &#123;</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        public void onReceive(Context context, Intent intent) &#123;</span><br><span class="line">            if (intent != null) &#123;</span><br><span class="line">                String acyion = intent.getAction();</span><br><span class="line">                switch (acyion) &#123;</span><br><span class="line">                    case Intent.ACTION_BATTERY_CHANGED://电量发生改变</span><br><span class="line">                        if (mBatteryStateListener != null) &#123;</span><br><span class="line">                            Log.e(&quot;thbelief&quot;, &quot;BatteryBroadcastReceiver --&gt; onReceive--&gt; ACTION_BATTERY_CHANGED&quot;);</span><br><span class="line">                            mBatteryStateListener.onStateChanged();</span><br><span class="line">                        &#125;</span><br><span class="line">                        break;</span><br><span class="line">                    case Intent.ACTION_BATTERY_LOW://电量低</span><br><span class="line">                        if (mBatteryStateListener != null) &#123;</span><br><span class="line">                            Log.e(&quot;thbelief&quot;, &quot;BatteryBroadcastReceiver --&gt; onReceive--&gt; ACTION_BATTERY_LOW&quot;);</span><br><span class="line">                            mBatteryStateListener.onStateLow();</span><br><span class="line">                        &#125;</span><br><span class="line">                        break;</span><br><span class="line">                    case Intent.ACTION_BATTERY_OKAY://电量充满</span><br><span class="line">                        if (mBatteryStateListener != null) &#123;</span><br><span class="line">                            Log.e(&quot;thbelief&quot;, &quot;BatteryBroadcastReceiver --&gt; onReceive--&gt; ACTION_BATTERY_OKAY&quot;);</span><br><span class="line">                            mBatteryStateListener.onStateOkay();</span><br><span class="line">                        &#125;</span><br><span class="line">                        break;</span><br><span class="line">                    case Intent.ACTION_POWER_CONNECTED://接通电源</span><br><span class="line">                        if (mBatteryStateListener != null) &#123;</span><br><span class="line">                            Log.e(&quot;thbelief&quot;, &quot;BatteryBroadcastReceiver --&gt; onReceive--&gt; ACTION_POWER_CONNECTED&quot;);</span><br><span class="line">                            mBatteryStateListener.onStatePowerConnected();</span><br><span class="line">                        &#125;</span><br><span class="line">                        break;</span><br><span class="line">                    case Intent.ACTION_POWER_DISCONNECTED://拔出电源</span><br><span class="line">                        if (mBatteryStateListener != null) &#123;</span><br><span class="line">                            Log.e(&quot;thbelief&quot;, &quot;BatteryBroadcastReceiver --&gt; onReceive--&gt; ACTION_POWER_DISCONNECTED&quot;);</span><br><span class="line">                            mBatteryStateListener.onStatePowerDisconnected();</span><br><span class="line">                        &#125;</span><br><span class="line">                        break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public interface BatteryStateListener &#123;</span><br><span class="line">        public void onStateChanged();</span><br><span class="line"></span><br><span class="line">        public void onStateLow();</span><br><span class="line"></span><br><span class="line">        public void onStateOkay();</span><br><span class="line"></span><br><span class="line">        public void onStatePowerConnected();</span><br><span class="line"></span><br><span class="line">        public void onStatePowerDisconnected();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面这个就是主活动：</p>
<p>由于是简单的一个APP，这里就没有用什么框架了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line">public class MainActivity extends AppCompatActivity &#123;</span><br><span class="line"></span><br><span class="line">    private MediaPlayer mediaPlayerInput,mediaPlayerOutput;</span><br><span class="line">    private BatteryListener listener;</span><br><span class="line">    private Button button;</span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        //隐藏标题栏Actionbar</span><br><span class="line">        if (getSupportActionBar() != null)&#123;</span><br><span class="line">            getSupportActionBar().hide();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        //提示信息dialog</span><br><span class="line">        final NiftyDialogBuilder dialogBuilder=NiftyDialogBuilder.getInstance(this);</span><br><span class="line">        dialogBuilder</span><br><span class="line">                .withTitle(&quot;警告!&quot;)</span><br><span class="line">                .withMessage(&quot;本软件请勿在公共场合打开，如有差错导致悲惨的后果，本人概不负责！&quot;)</span><br><span class="line">                .withDialogColor(&quot;#FFB6C1&quot;)</span><br><span class="line">                .withMessageColor(&quot;#ffffff&quot;)</span><br><span class="line">                .withButton1Text(&quot;知道了&quot;)</span><br><span class="line">                .withEffect(Newspager)</span><br><span class="line">                .setButton1Click(new View.OnClickListener() &#123;</span><br><span class="line">                    @Override</span><br><span class="line">                    public void onClick(View v) &#123;</span><br><span class="line">                        dialogBuilder.cancel();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                .show();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        //监听媒体音量方便判断是否手机静音</span><br><span class="line">        AudioManager audioManager = (AudioManager)getSystemService(Context.AUDIO_SERVICE);</span><br><span class="line">        int currentVolume = audioManager.getStreamVolume(AudioManager.STREAM_MUSIC);</span><br><span class="line">        if(currentVolume==0)  Toast.makeText(MainActivity.this, &quot;手机静音，不能正常提示，请调大音量！&quot;, Toast.LENGTH_LONG).show();</span><br><span class="line">        //电源插拔</span><br><span class="line">        listener = new BatteryListener(this);</span><br><span class="line">        //播放MP3</span><br><span class="line">        mediaPlayerInput=MediaPlayer.create(this,R.raw.jiaochuan1);</span><br><span class="line">        mediaPlayerOutput=MediaPlayer.create(this,R.raw.jiaochuan2);</span><br><span class="line"></span><br><span class="line">        button=findViewById(R.id.btn);</span><br><span class="line"></span><br><span class="line">        button.setOnClickListener(new View.OnClickListener() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onClick(View v) &#123;</span><br><span class="line">                Toast.makeText(MainActivity.this,button.getText(), Toast.LENGTH_SHORT).show();</span><br><span class="line"></span><br><span class="line">                if(button.getText().toString().equals(&quot;CLOSE&quot;))&#123;</span><br><span class="line">                    button.setText(&quot;OPEN&quot;);</span><br><span class="line">                    Toast.makeText(MainActivity.this, &quot;超级电源插拔提示已部署！&quot;, Toast.LENGTH_SHORT).show();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    listener.register(new BatteryListener.BatteryStateListener() &#123;</span><br><span class="line">                        @Override</span><br><span class="line">                        public void onStateChanged() &#123;</span><br><span class="line">                            Log.e(&quot;thbelief&quot;, &quot;MainActivity --&gt; onStateChanged--&gt; &quot;);</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        @Override</span><br><span class="line">                        public void onStateLow() &#123;</span><br><span class="line">                            Log.e(&quot;thbelief&quot;, &quot;MainActivity --&gt; onStateLow--&gt; &quot;);</span><br><span class="line">                            Toast.makeText(MainActivity.this, &quot;电源降低！&quot;, Toast.LENGTH_SHORT).show();</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        @Override</span><br><span class="line">                        public void onStateOkay() &#123;</span><br><span class="line">                            Log.e(&quot;thbelief&quot;, &quot;MainActivity --&gt; onStateOkay--&gt; &quot;);</span><br><span class="line">                            Toast.makeText(MainActivity.this, &quot;电源充满！&quot;, Toast.LENGTH_SHORT).show();</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        @Override</span><br><span class="line">                        public void onStatePowerConnected() &#123;</span><br><span class="line">                            Log.e(&quot;thbelief&quot;, &quot;MainActivity --&gt; onStatePowerConnected--&gt; &quot;);</span><br><span class="line">                            Toast.makeText(MainActivity.this, &quot;电源插入！&quot;, Toast.LENGTH_SHORT).show();</span><br><span class="line">                            if(mediaPlayerOutput.isPlaying()) &#123;</span><br><span class="line">                                mediaPlayerOutput.stop();</span><br><span class="line">                                mediaPlayerInput.start();</span><br><span class="line">                            &#125;else&#123;</span><br><span class="line">                                mediaPlayerInput.start();</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        @Override</span><br><span class="line">                        public void onStatePowerDisconnected() &#123;</span><br><span class="line">                            Log.e(&quot;thbelief&quot;, &quot;MainActivity --&gt; onStatePowerDisconnected--&gt; &quot;);</span><br><span class="line">                            Toast.makeText(MainActivity.this, &quot;电源拔出！&quot;, Toast.LENGTH_SHORT).show();</span><br><span class="line">                            if(mediaPlayerInput.isPlaying()) &#123;</span><br><span class="line">                                mediaPlayerInput.stop();</span><br><span class="line">                                mediaPlayerOutput.start();</span><br><span class="line">                            &#125;else&#123;</span><br><span class="line">                                mediaPlayerOutput.start();</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;else if (button.getText().toString().equals(&quot;OPEN&quot;))&#123;</span><br><span class="line">                    button.setText(&quot;CLOSE&quot;);</span><br><span class="line">                    Toast.makeText(MainActivity.this, &quot;超级电源插拔提示已取消！&quot;, Toast.LENGTH_SHORT).show();</span><br><span class="line">                    if (listener != null) &#123;</span><br><span class="line">                        listener.unregister();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    protected void onDestroy() &#123;</span><br><span class="line">        if (listener != null) &#123;</span><br><span class="line">            listener.unregister();</span><br><span class="line">        &#125;</span><br><span class="line">        super.onDestroy();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="效果">效果</span></h3><p><img src="/2019/06/04/Android-USBPrompt开发/1.jpg" alt=""></p>
<p><img src="/2019/06/04/Android-USBPrompt开发/2.jpg" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/06/03/Android-安装Gradle报错解决/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/03/Android-安装Gradle报错解决/" itemprop="url">Android-安装Gradle报错解决</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-03T11:54:30+08:00">
                2019-06-03
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/移动端开发/" itemprop="url" rel="index">
                    <span itemprop="name">移动端开发</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/移动端开发/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  214
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#前言">前言</a></li>
<li><a href="#原因">原因</a></li>
<li><a href="#解决方案">解决方案</a></li>
</ul>
<!-- tocstop -->
<h2><span id="前言">前言</span></h2><p>今天升级了AndroidStudio之后提示需要重新安装Gradle相关的东西，由于国内的<strong>不知名原因</strong>导致速度很慢很慢。设置了国内的HTTP代理之后报错：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Could not GET &apos;https://dl.google.com/dl/android/maven2/com/android/support/appcompat-v7/28.0.0/appcompat-v7-28.0.0.pom&apos;. Received status code 400 from server: Bad Request Enable Gradle &apos;offline mode&apos; and sync project</span><br></pre></td></tr></table></figure>
<h2><span id="原因">原因</span></h2><p>设置代理的地方如下：</p>
<p>如下图可知，由于使用的是国内的镜像代理，这里涉及到一个<strong>https与http的差异</strong>，这里涉及到的就是这个问题。</p>
<p><img src="/2019/06/03/Android-安装Gradle报错解决/1.jpg" alt=""></p>
<h2><span id="解决方案">解决方案</span></h2><p>直接在Android目录下找到<strong>gradle.properties</strong>这个文件打开，会发现图中两个https的，注释掉之后重新编译之后就可以发现项目不会出现问题了。</p>
<p><img src="/2019/06/03/Android-安装Gradle报错解决/2.jpg" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/zhangguoron.jpg" alt="THBELIEF">
            
              <p class="site-author-name" itemprop="name">THBELIEF</p>
              <p class="site-description motion-element" itemprop="description">我这个人只是英俊 潇洒了些许~</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">105</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">163</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/thbelief" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:2465749045@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://blog.csdn.net/thbelief" target="_blank" title="CSDN">
                      
                        <i class="fa fa-fw fa-globe"></i>CSDN</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">THBELIEF</span>

  
</div>


  <!--<div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>
-->



<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共131.9k字</span>
</div>
<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":125,"height":150},"mobile":{"show":false},"log":false,"tagMode":false});</script></body>
</html>
