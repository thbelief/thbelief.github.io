<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">
  <script>
    (function(){
        if(''){
            if (prompt('请输入博客密码') !== ''){
                alert('密码错误！');
                history.back();
            }
        }
    })();
</script>








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="我这个人只是英俊 潇洒了些许~">
<meta property="og:type" content="website">
<meta property="og:title" content="THBELIEF">
<meta property="og:url" content="http://thbelief.coding.me/page/3/index.html">
<meta property="og:site_name" content="THBELIEF">
<meta property="og:description" content="我这个人只是英俊 潇洒了些许~">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="THBELIEF">
<meta name="twitter:description" content="我这个人只是英俊 潇洒了些许~">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://thbelief.coding.me/page/3/">





  <title>THBELIEF</title>
  








  <script type="text/javascript" src="/js/src/love.js"></script>
</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>
    
    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">THBELIEF</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Thbelief's blog</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/05/19/机器学习实验-VSM计算相似度/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/19/机器学习实验-VSM计算相似度/" itemprop="url">机器学习实验-VSM计算相似度</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-19T17:34:53+08:00">
                2019-05-19
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/机器学习/" itemprop="url" rel="index">
                    <span itemprop="name">机器学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  327
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!--toc-->
<h2><span id="实验目的">实验目的</span></h2><p>  通过VSM模型来计算文档之间的相似度。</p>
<h2><span id="实验内容">实验内容</span></h2><ol>
<li>熟练掌握term的选择。</li>
<li>计算每篇文章中每个term的权重。（TF-IDF）</li>
<li>计算文档的相似度。</li>
</ol>
<h2><span id="实验过程">实验过程</span></h2><p>1.首先要做的就是读取文档，然后就是去除停用词。<br>关键代码如下:<br>原理就是一行一行的读取，然后逐词匹配，如果是的话就去除该停用词。</p>
<p><img src="/2019/05/19/机器学习实验-VSM计算相似度/去除停用词.png" alt=""></p>
<p>2.计算TF-IDF<br>      TF计算因子代表了词频，即一个单词在文档中出现的次数，一般来说，在某个文档中反复出现的单词，往往能够表征文档的主题信息，即Tf值越大，越能代表文档所反映的内容，那么应该给于这个单词更大的权值。<br>        <strong>Tf=1+log(Tf)</strong><br>     IDF反映了一个特征词在整个文档集合中的分布情况，特征词出现在其中的文档数目越多，IDF值越低，这个词区分不同文档差异的能力越差，所以IDF衡量了单词对不同文档内容差异的区分能力。<br>        <strong>IDF=log(N/nk)</strong><br>     3.计算权重：<br>        <strong>权重=TF*IDF</strong><br>     4.相似度计算：<br>这里使用的是<strong>Cosine算法</strong>。公式如下：</p>
<p><img src="/2019/05/19/机器学习实验-VSM计算相似度/Cosine.png" alt=""></p>
<h2><span id="实验结果">实验结果</span></h2><p><img src="/2019/05/19/机器学习实验-VSM计算相似度/结果.png" alt=""></p>
<p><img src="/2019/05/19/机器学习实验-VSM计算相似度/相似度.png" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/05/18/JavaScript学习笔记-八/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/18/JavaScript学习笔记-八/" itemprop="url">JavaScript学习笔记(八)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-18T12:21:36+08:00">
                2019-05-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  506
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#操作文件">操作文件</a><ul>
<li><a href="#上传文件">上传文件</a></li>
<li><a href="#file-api">File API</a></li>
<li><a href="#回调">回调</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<h2><span id="操作文件">操作文件</span></h2><h3><span id="上传文件">上传文件</span></h3><p>在<strong>HTML表单</strong>中，可以上传文件的唯一控件就是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;file&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>当一个表单包含input type=”file”时，<strong>表单的enctype必须指定为multipart/form-data，method必须指定为post</strong>，浏览器才可以正确编码并以<strong>multipart/form-data格式</strong>发送表单的数据。</p>
<p>另外，由于安全方面的考虑，不可能使用JS对input type=”file”的value进行赋值，上传文件之后也<strong>不能获取该文件的真实路径。</strong></p>
<input type="file">

<p>注意，一般上传文件都是由后台的服务器做处理，JS可以做的就是在上传的时候检测文件的扩展名，<strong>防止上传无效的格式。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var f = document.getElementById(&apos;test-file-upload&apos;);</span><br><span class="line">var filename = f.value; // &apos;C:\fakepath\test.png&apos;</span><br><span class="line">if (!filename || !(filename.endsWith(&apos;.jpg&apos;) || filename.endsWith(&apos;.png&apos;) || filename.endsWith(&apos;.gif&apos;))) &#123;</span><br><span class="line">    alert(&apos;Can only upload image file.&apos;);</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="file-api">File API</span></h3><p>JS对用户上传文件的操作非常有限，例如无法读取文件内容，很多需要操作文件的网页不得不用<strong>Flash</strong>来实现。</p>
<p>HTML5的File API提供了<strong>File</strong>和<strong>FileReader</strong>两个主要对象，可以<strong>获得文件信息并读取文件。</strong></p>
<p>具体操作这里不做演示，可以自行百度。</p>
<h3><span id="回调">回调</span></h3><p>JS是<strong>单线程执行模式。</strong></p>
<p>在JS中执行多任务其实都是用的<strong>异步调用。</strong>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reader.readAsDataURL(file);</span><br></pre></td></tr></table></figure>
<p>上面的代码会发起一个异步的操作来读取文件的内容，<strong>由于是异步操作，JS中不知道什么时候会结束，所以之前需要设置一个回调函数。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">reader.onload = function(e) &#123;</span><br><span class="line">    // 当文件读取完成后，自动调用此函数:</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>文件读取完成之后JS会自动的调用自己设置的回调函数。</strong>执行回调函数的时候其实文件已经读取完毕了，所以可以安全地在回调函数内部获得文件的内容。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/05/17/VSCode搭建C-C调试编译环境（使用DevC-）/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/17/VSCode搭建C-C调试编译环境（使用DevC-）/" itemprop="url">VSCode搭建C++/C调试编译环境（使用DevC++）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-17T16:38:32+08:00">
                2019-05-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/其它/" itemprop="url" rel="index">
                    <span itemprop="name">其它</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  968
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  4
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#前言">前言</a></li>
<li><a href="#配置dev下mingw64的路径">配置Dev下MinGW64的路径</a></li>
<li><a href="#安装vscode插件">安装VSCode插件</a></li>
<li><a href="#新建工作区">新建工作区</a><ul>
<li><a href="#新建一个vscode-c文件夹">新建一个VSCode-C文件夹</a></li>
</ul>
</li>
<li><a href="#配置">配置</a><ul>
<li><a href="#launchjson">launch.json</a></li>
<li><a href="#tasksjson">tasks.json</a></li>
<li><a href="#c_cpp_propertiesjson">c_cpp_properties.json</a></li>
</ul>
</li>
<li><a href="#测试">测试</a></li>
</ul>
<!-- tocstop -->
<h2><span id="前言">前言</span></h2><p>关于VSCode使用Dev C++的MinGW64来调试C++/C网上的教程试了很多，大部分都已经过时了或者说是不适配了，最后就选择使用Dev原有的东西来实现，不建议自己下载MinGW64，里面安装的时候有些选项不知道选什么的话很容易出现问题。</p>
<h2><span id="配置dev下mingw64的路径">配置Dev下MinGW64的路径</span></h2><p>假设Dev已经安装好了，然后现在要做的就是将Dev目录下的MinGW添加到环境变量的path里面去。</p>
<p>我的路径配置是：</p>
<p><strong>注意这里必须是直接到bin目录</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:\c.code\Dev\Dev-Cpp\MinGW64\bin</span><br></pre></td></tr></table></figure>
<p>关于如何配置环境变量这部分就不说了，<strong>电脑-&gt;右键属性-&gt;高级系统设置-&gt;环境变量-&gt;系统变量-&gt;Path-&gt;编辑-&gt;添加。</strong>添加完成之后一路确定退出保存即可。</p>
<h2><span id="安装vscode插件">安装VSCode插件</span></h2><p>直接搜索C++安装第一个就可以了，下面的那些可以看自己的情况安装。</p>
<p>还可以安装一个Code Runner插件，这个插件是用来运行代码的。（非调试，调试环境需要自己配置）</p>
<p><img src="/2019/05/17/VSCode搭建C-C调试编译环境（使用DevC-）/2.jpg" alt=""></p>
<h2><span id="新建工作区">新建工作区</span></h2><p>由于VSCode本身不支持C++/C的调试环境，所以这些都需要自己配置。新建一个专门的C的工作区是最便利的方法。</p>
<h3><span id="新建一个vscode-c文件夹">新建一个VSCode-C文件夹</span></h3><p>新建一个文件夹，记住位置，然后在VSCode里面讲该文件夹添加为一个<strong>新的工作区</strong>。（以后写的C++/C代码都要放到这个文件夹下面才可以进行调试）</p>
<p><img src="/2019/05/17/VSCode搭建C-C调试编译环境（使用DevC-）/1.jpg" alt=""></p>
<p>然后点击左下角的设置按钮，然后点击工作区，进入工作区的设置环境。（默认是用户设置，我们需要修改工作区的设置），然后在上面的搜索框输入<strong>Files.Encoding</strong>，将设置修改为<strong>gb2312</strong>。</p>
<p><img src="/2019/05/17/VSCode搭建C-C调试编译环境（使用DevC-）/3.jpg" alt=""></p>
<h2><span id="配置">配置</span></h2><p>在工作区下面的.vscode里面添加三个文件。</p>
<p><img src="/2019/05/17/VSCode搭建C-C调试编译环境（使用DevC-）/4.jpg" alt=""></p>
<p>下面的配置文件必须修改为<strong>自己Dev目录下的MinGW路径。</strong></p>
<h3><span id="launchjson">launch.json</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    // 使用 IntelliSense 了解相关属性。 </span><br><span class="line">    // 悬停以查看现有属性的描述。</span><br><span class="line">    // 欲了解更多信息，请访问: https://go.microsoft.com/fwlink/?linkid=830387</span><br><span class="line">    &quot;version&quot;: &quot;0.2.0&quot;,</span><br><span class="line">    &quot;configurations&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;(gdb) Launch&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;cppdbg&quot;,</span><br><span class="line">            &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">            &quot;program&quot;: &quot; $&#123;file&#125;.exe&quot;,</span><br><span class="line">            &quot;args&quot;: [],</span><br><span class="line">            &quot;stopAtEntry&quot;: false,</span><br><span class="line">            &quot;cwd&quot;: &quot;$&#123;workspaceFolder&#125;&quot;,</span><br><span class="line">            &quot;environment&quot;: [],</span><br><span class="line">            &quot;externalConsole&quot;: true,</span><br><span class="line">            &quot;preLaunchTask&quot;: &quot;build&quot;,</span><br><span class="line">            &quot;MIMode&quot;: &quot;gdb&quot;,</span><br><span class="line">            &quot;miDebuggerPath&quot;: &quot;D:\\c.code\\Dev\\Dev-Cpp\\MinGW64\\bin\\gdb.exe&quot;,</span><br><span class="line">            &quot;setupCommands&quot;: [</span><br><span class="line">                &#123;</span><br><span class="line">                    &quot;description&quot;: &quot;Enable pretty-printing for gdb&quot;,</span><br><span class="line">                    &quot;text&quot;: &quot;-enable-pretty-printing&quot;,</span><br><span class="line">                    &quot;ignoreFailures&quot;: true</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="tasksjson">tasks.json</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    // See https://go.microsoft.com/fwlink/?LinkId=733558</span><br><span class="line">    // for the documentation about the tasks.json format</span><br><span class="line">    &quot;version&quot;: &quot;2.0.0&quot;,</span><br><span class="line">    &quot;tasks&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;label&quot;: &quot;build&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;shell&quot;,</span><br><span class="line">            &quot;command&quot;: &quot;g++&quot;,</span><br><span class="line"></span><br><span class="line">            &quot;args&quot;: [</span><br><span class="line">                &quot;-g&quot;,</span><br><span class="line">                &quot;$&#123;file&#125;&quot;,</span><br><span class="line">                &quot;-o&quot;,</span><br><span class="line">                &quot;$&#123;file&#125;.exe&quot;</span><br><span class="line">            ],</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="c_cpp_propertiesjson">c_cpp_properties.json</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;configurations&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;Win32&quot;,</span><br><span class="line">            &quot;includePath&quot;: [</span><br><span class="line">                &quot;$&#123;workspaceFolder&#125;/**&quot;,</span><br><span class="line">                &quot;D:\\c.code\\Dev\\Dev-Cpp\\MinGW64\\lib\\gcc\\x86_64-w64-mingw32\\4.9.2\\include\\c++&quot;,</span><br><span class="line">                &quot;D:\\c.code\\Dev\\Dev-Cpp\\MinGW64\\lib\\gcc\\x86_64-w64-mingw32\\4.9.2\\include\\c++\tr1&quot;,</span><br><span class="line">                &quot;D:/c.code/Dev/Dev-Cpp/MinGW64/lib/gcc/x86_64-w64-mingw32/4.9.2/include/c++/x86_64-w64-mingw32&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;defines&quot;: [</span><br><span class="line">                &quot;_DEBUG&quot;,</span><br><span class="line">                &quot;UNICODE&quot;,</span><br><span class="line">                &quot;_UNICODE&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;compilerPath&quot;: &quot;D:\\c.code\\Dev\\Dev-Cpp\\MinGW64\\bin\\gcc.exe&quot;,</span><br><span class="line">            &quot;cStandard&quot;: &quot;c99&quot;,</span><br><span class="line">            &quot;cppStandard&quot;: &quot;c++98&quot;,</span><br><span class="line">            &quot;intelliSenseMode&quot;: &quot;clang-x64&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;version&quot;: 4</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2><span id="测试">测试</span></h2><p>在VSCode-C下面创建一个新文件<strong>Untitled-1.cpp</strong>，然后写上代码。（建议加上 <strong>system(“pause”);</strong>，这样控制台不会一闪而过）。</p>
<p>最后运行结果如下：</p>
<p><img src="/2019/05/17/VSCode搭建C-C调试编译环境（使用DevC-）/5.jpg" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/05/16/算法分析-实验一/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/16/算法分析-实验一/" itemprop="url">算法分析-实验一</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-16T17:47:09+08:00">
                2019-05-16
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  2.4k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  10
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#前言">前言</a></li>
<li><a href="#euclids-game">Euclid’s Game</a><ul>
<li><a href="#题目简介">题目简介</a><ul>
<li><a href="#输入">输入</a></li>
<li><a href="#输出">输出</a></li>
<li><a href="#样例输入">样例输入</a></li>
<li><a href="#样例输出">样例输出</a></li>
</ul>
</li>
<li><a href="#题目大意">题目大意</a></li>
<li><a href="#题目分析">题目分析</a></li>
<li><a href="#代码">代码</a></li>
</ul>
</li>
<li><a href="#locker-doors">Locker doors</a><ul>
<li><a href="#题目简介-1">题目简介</a><ul>
<li><a href="#输入-1">输入</a></li>
<li><a href="#输出-1">输出</a></li>
<li><a href="#样例输入-1">样例输入</a></li>
<li><a href="#样例输出-1">样例输出</a></li>
</ul>
</li>
<li><a href="#题目大意-1">题目大意</a></li>
<li><a href="#题目分析-1">题目分析</a></li>
<li><a href="#代码-1">代码</a></li>
</ul>
</li>
<li><a href="#俄式乘法">俄式乘法</a><ul>
<li><a href="#题目简介-2">题目简介</a><ul>
<li><a href="#输入-2">输入</a></li>
<li><a href="#输出-2">输出</a></li>
<li><a href="#样例输入-2">样例输入</a></li>
<li><a href="#样例输出-2">样例输出</a></li>
</ul>
</li>
<li><a href="#题目分析-2">题目分析</a></li>
<li><a href="#代码-2">代码</a></li>
</ul>
</li>
<li><a href="#约瑟夫问题的实现">约瑟夫问题的实现</a><ul>
<li><a href="#题目简介-3">题目简介</a><ul>
<li><a href="#输入-3">输入</a></li>
<li><a href="#输出-3">输出</a></li>
<li><a href="#样例输入-3">样例输入</a></li>
<li><a href="#样例输出-3">样例输出</a></li>
</ul>
</li>
<li><a href="#题目分析-3">题目分析</a></li>
<li><a href="#代码-3">代码</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<h2><span id="前言">前言</span></h2><p>这周六就要算法分析半期考试了，正好要复习，就顺便写下博客加深一下理解。</p>
<h2><span id="euclids-game">Euclid’s Game</span></h2><h3><span id="题目简介">题目简介</span></h3><p>Euclid’s Game</p>
<p> 1000(ms)</p>
<p> 65535(kb)</p>
<p> 812 / 3173</p>
<p>Starts with two unequal positive numbers (M,N and M&gt;N) on the board. Two players move in turn. On each move, a player has to write on the board a positive number equal to the difference of two numbers already on the board; this number must be new, i.e., different from all the numbers already on the board. The player who cannot move loses the game. Should you choose to move first or second in this game? </p>
<p>According to the above rules, there are two players play tihs game. Assumptions A write a number on the board at first, then B write it. </p>
<p>Your task is write a program to judge the winner is A or B.</p>
<h4><span id="输入">输入</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Two unequal positive numbers M and N , M&gt;N (M&lt;1000000)</span><br></pre></td></tr></table></figure>
<h4><span id="输出">输出</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A or B</span><br></pre></td></tr></table></figure>
<h4><span id="样例输入">样例输入</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3 1</span><br></pre></td></tr></table></figure>
<h4><span id="样例输出">样例输出</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A</span><br></pre></td></tr></table></figure>
<h3><span id="题目大意">题目大意</span></h3><p>从两个<strong>不等的正数</strong>开始，将两个数写在板子上，M&gt;N，每个人只能在板子上写出板子上<strong>已有数的差值的绝对值</strong>，这个值必须是在板子上面<strong>没有出现过的</strong>，谁先不能写出谁就输了，所以该是先手还是后手才能赢下比赛？</p>
<p><strong>假设是A首先写，B后写，我们的任务就是写一个程序来判断谁会赢。</strong></p>
<h3><span id="题目分析">题目分析</span></h3><p>由<strong>数据规律</strong>可以得出。</p>
<p>每次写的数字，只能是<strong>最开始两个数</strong>的<strong>最大公约数</strong>的<strong>k倍</strong>，即<strong>k最大为M/（M与N的最大公约数）倍</strong>，判断M/（M与N的最大公约数）的<strong>奇偶性</strong>即可。</p>
<p>这里使用<strong>辗转相除法</strong>来实现<strong>求最大公约数</strong>。然后判断k的奇偶性即可。奇数则是A胜，否则就是B胜。</p>
<h3><span id="代码">代码</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">int main()&#123;</span><br><span class="line">	//x，y分别赋值后x&gt;y，c作为余数（这里为后面的辗转相除法做准备） </span><br><span class="line">	int m,n,x,y,c;</span><br><span class="line">	cin&gt;&gt;m&gt;&gt;n;</span><br><span class="line">	//由于题目表示m&gt;n,所以赋值之后x&gt;y </span><br><span class="line">	x=m;</span><br><span class="line">	y=n;</span><br><span class="line">	//这里是辗转相除法 </span><br><span class="line">	while(y)&#123;</span><br><span class="line">		//余数c为零即y为零的时候自动退出循环 </span><br><span class="line">		c=x%y;</span><br><span class="line">		x=y;</span><br><span class="line">		y=c;</span><br><span class="line">	&#125; </span><br><span class="line">	//这里的m就是输入的m，n中的较大值</span><br><span class="line">	m=m/x;</span><br><span class="line">	if(m%2)&#123;</span><br><span class="line">		//如果是奇数的话</span><br><span class="line">		cout&lt;&lt;&quot;A&quot;&lt;&lt;endl; </span><br><span class="line">	&#125;else&#123;</span><br><span class="line">		//如果是偶数的话 </span><br><span class="line">		cout&lt;&lt;&quot;B&quot;&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2><span id="locker-doors">Locker doors</span></h2><h3><span id="题目简介">题目简介</span></h3><p>Locker doors</p>
<p> 1000(ms)</p>
<p> 65535(kb)</p>
<p> 812 / 3173</p>
<p>There are n lockers in a hallway numbered sequentially from 1 to n. Initially, all the locker doors are closed. You make n passes by the lockers, each time starting with locker #1. On the ith pass, i = 1, 2, …, n, you toggle the door of every ith locker: if the door is closed, you open it, if it is open, you close it. For example, after the first pass every door is open; on the second pass you only toggle the even-numbered lockers (#2, #4, …) so that after the second pass the even doors are closed and the odd ones are opened; the third time through you close the door of locker #3 (opened from the first pass), open the door of locker #6 (closed from the second pass), and so on. After the last pass, which locker doors are open and which are closed? How many of them are open? Your task is write a program to output How many doors are open after the last pass? Assumptions all doors are closed at first.</p>
<h4><span id="输入">输入</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a positive numbers n, total doors. n&lt;=100000</span><br></pre></td></tr></table></figure>
<h4><span id="输出">输出</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a positive numbers ，the total of doors opened after the last pass.</span><br></pre></td></tr></table></figure>
<h4><span id="样例输入">样例输入</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">10</span><br></pre></td></tr></table></figure>
<h4><span id="样例输出">样例输出</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3</span><br></pre></td></tr></table></figure>
<h3><span id="题目大意">题目大意</span></h3><p>走廊上有n个储物柜，<strong>从1到n依次编号</strong>。最初，所有的储物柜门都关闭了。<strong>每次从储物柜＃1开始</strong>，您都会通过储物柜进行n次通行。在第i次通过的时候，i = 1,2，…，n，<strong>切换每个第i个储物柜的门</strong>：<strong>如果门关闭，你打开它，如果它是打开的，你关闭它。</strong>例如，在第一次通过后，每扇门都打开; 在第二次通过时，您只需切换偶数编号的储物柜（＃2，＃4，……），以便在第二次通过后，偶数门关闭，奇数门打开; 第三次通过你关闭储物柜＃3的门（从第一次通过打开），打开储物柜＃6的门（从第二次通过关闭），依此类推。在最后一次行走过之后 哪些储物柜门是打开的，哪些是关闭的？有多少是开放的？我们的任务是<strong>写一个程序来输出最后一次通过后打开了多少扇门？假设所有门首先关闭。</strong></p>
<h3><span id="题目分析">题目分析</span></h3><p>首先，大家想到的最简单的应该是直接模拟，但是这里有个问题，像这么大的数据规模的话，是很容易超时的，这就不可取了。</p>
<p>测试多组数据之后会发现，其实这道题可以找到规律——<strong>最后开着的门其实编号都是平方数</strong>（也就是开根号得出整数的数）。比如18个门的话，最后1、4、9、16都是开着的。</p>
<h3><span id="代码">代码</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;cmath&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">int main()&#123;</span><br><span class="line">	int n;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	//从规律中发现其实强制转换之后也就是n开方的值</span><br><span class="line">	cout&lt;&lt;(int)sqrt(n)&lt;&lt;endl;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;cmath&gt; </span><br><span class="line">using namespace std;</span><br><span class="line">int main()&#123;</span><br><span class="line">	int n;</span><br><span class="line">    int num = 0;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">	for (int i = 1; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">    //这里的floor是向下取整，返回的是不大于参数的最大整数，要用判断i开方之后是否是整数</span><br><span class="line">    	if(sqrt(i)==floor(sqrt(i))) num++;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;num&lt;&lt;endl; </span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2><span id="俄式乘法">俄式乘法</span></h2><h3><span id="题目简介">题目简介</span></h3><p>俄式乘法</p>
<p> 1000(ms)</p>
<p> 65535(kb)</p>
<p> 2220 / 6369</p>
<p>俄式乘法，又被称为俄国农夫法，它是对两个正整数相乘的非主流算法。假设m和n是两个正整数，我们要计算它们的积。它的主要原理如下： if n is 偶数 n <em> m=n/2 </em> 2m else n <em> m=(n-1)/2 </em> 2m + m 该算法只包括<strong>折半，加倍，相加</strong>等几个简单操作，因此实现速度非常快。</p>
<h4><span id="输入">输入</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">两个正整数 n,m。</span><br></pre></td></tr></table></figure>
<h4><span id="输出">输出</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">n和m的乘积。</span><br><span class="line">输出整个求和表达式，运算符与数字之间用一个空格隔开。</span><br></pre></td></tr></table></figure>
<h4><span id="样例输入">样例输入</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">50 65</span><br></pre></td></tr></table></figure>
<h4><span id="样例输出">样例输出</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">130 + 1040 + 2080 = 3250</span><br></pre></td></tr></table></figure>
<h3><span id="题目分析">题目分析</span></h3><p>这个题太简单了，没啥好分析的，直接按照题目要求写即可。</p>
<p>推荐<strong>减常因子</strong>的减治法。</p>
<h3><span id="代码">代码</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">	int n,m,c=0;</span><br><span class="line">	int k=0,i;</span><br><span class="line">	scanf(&quot;%d %d&quot;,&amp;n,&amp;m);</span><br><span class="line">	for(i=0;n!=0;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		if(n%2==1&amp;&amp;n!=1)</span><br><span class="line">		&#123;</span><br><span class="line">			c+=m;</span><br><span class="line">			printf(&quot;%d + &quot;,m);</span><br><span class="line">		&#125;</span><br><span class="line">		if(n==1)</span><br><span class="line">		&#123;</span><br><span class="line">			c+=m;</span><br><span class="line">			printf(&quot;%d = %d\n&quot;,m,c);</span><br><span class="line">		&#125;</span><br><span class="line">		m*=2;</span><br><span class="line">		if(n%2==1)</span><br><span class="line">		&#123;</span><br><span class="line">			n=(n-1)/2;</span><br><span class="line">		&#125;</span><br><span class="line">		else if(n%2==0)</span><br><span class="line">		&#123;</span><br><span class="line">			n=n/2;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">using namespace std; </span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    int n,m;</span><br><span class="line">   	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    while(n!=0)</span><br><span class="line">    &#123;</span><br><span class="line">        int num=0;</span><br><span class="line">        while(n!=0)</span><br><span class="line">        &#123;</span><br><span class="line">            if(n%2==0)</span><br><span class="line">            &#123;//如果是偶数的话，将两个数一个乘2一个除2 </span><br><span class="line">                n=n/2;</span><br><span class="line">                m=m*2;</span><br><span class="line">            &#125;</span><br><span class="line">            if(n%2!=0)</span><br><span class="line">            &#123;//如果是奇数的话 </span><br><span class="line">                num+=m;//总和上先加上m </span><br><span class="line">                n=(n-1)/2; </span><br><span class="line">                if(n!=0) cout&lt;&lt;m&lt;&lt;&quot; + &quot;;//并没有结束 </span><br><span class="line">                else cout&lt;&lt;m&lt;&lt;&quot; = &quot;&lt;&lt;num&lt;&lt;endl;//结束条件n=0</span><br><span class="line">                m=m*2;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2><span id="约瑟夫问题的实现">约瑟夫问题的实现</span></h2><h3><span id="题目简介">题目简介</span></h3><p>约瑟夫问题的实现</p>
<p> 2000(ms)</p>
<p> 65535(kb)</p>
<p> 3524 / 11784</p>
<p>n个人围成一个圈，每个人分别标注为1、2、…、n，要求从1号从1开始报数，报到k的人出圈，接着下一个人又从1开始报数，如此循环，直到只剩最后一个人时，该人即为胜利者。例如当n=10,k=4时，依次出列的人分别为4、8、2、7、3、10，9、1、6、5，则5号位置的人为胜利者。给定n个人，请你编程计算出最后胜利者标号数。（要求用<strong>单循环链表完成。</strong>）</p>
<h4><span id="输入">输入</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">第一行为人数n;</span><br><span class="line">第二行为报数k。</span><br></pre></td></tr></table></figure>
<h4><span id="输出">输出</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">输出最后胜利者的标号数。</span><br></pre></td></tr></table></figure>
<h4><span id="样例输入">样例输入</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">10 </span><br><span class="line">4</span><br></pre></td></tr></table></figure>
<h4><span id="样例输出">样例输出</span></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5</span><br></pre></td></tr></table></figure>
<h3><span id="题目分析">题目分析</span></h3><p>如题目，直接使用尾插法建立单循环链表，然后模拟就可以了。</p>
<h3><span id="代码">代码</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;cstdlib&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">typedef struct List</span><br><span class="line">&#123;</span><br><span class="line">    int  data;</span><br><span class="line">    struct List *next;</span><br><span class="line">&#125;LinkList;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    LinkList *L,*r,*s;</span><br><span class="line">    L = (LinkList *)malloc(sizeof(LinkList));</span><br><span class="line">    r =L;</span><br><span class="line">    int n,i;</span><br><span class="line">    int k;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;k;</span><br><span class="line">    for(i = 1;i&lt;=n;i++)               ///尾插法建立循环链表</span><br><span class="line">    &#123;</span><br><span class="line">        s = (LinkList *)malloc(sizeof(LinkList));</span><br><span class="line">        s-&gt;data = i;</span><br><span class="line">        r-&gt;next = s;</span><br><span class="line">        r= s;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    r-&gt;next =L-&gt;next;                  //让最后一个链表的下一个节点指向开头</span><br><span class="line">    LinkList *p;</span><br><span class="line">    p = L-&gt;next;                    </span><br><span class="line">     </span><br><span class="line">    while(p-&gt;next != p)                            //开始模拟（判断条件要注意：因为最后肯定剩下一个人， 所以最后一个数据的next还是他本身）</span><br><span class="line">    &#123;</span><br><span class="line">        for(i = 1;i&lt;k-1;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            p = p-&gt;next;                         //每k个数死一个人</span><br><span class="line">        &#125;</span><br><span class="line">        p-&gt;next = p-&gt;next-&gt;next;                   //将该节点从链表上删除。</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    //OJ上要求不带回车，所以直接输出即可</span><br><span class="line">    cout&lt;&lt;p-&gt;data;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/05/15/JavaScript学习笔记-七/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/15/JavaScript学习笔记-七/" itemprop="url">JavaScript学习笔记(七)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-15T20:40:58+08:00">
                2019-05-15
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  4
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#前言">前言</a></li>
<li><a href="#表单">表单</a><ul>
<li><a href="#简介">简介</a></li>
<li><a href="#输入控件">输入控件</a></li>
<li><a href="#获取值">获取值</a></li>
<li><a href="#填充值">填充值</a></li>
<li><a href="#html5控件">HTML5控件</a></li>
<li><a href="#提交">提交</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<h2><span id="前言">前言</span></h2><p>前面一个博客中其实提到了一个网页脚本这种东西，不得不说，好不好用先不说，但是绝对对学习JS来说是一个很棒的想法。</p>
<p><a href="https://greasyfork.org/zh-CN" target="_blank" rel="noopener">GreasyFork</a>这个网站就是一个脚本网站，大部分都是JS，可以参考学习。当然，如果要好好的使用的话建议还是下载一个Chrome的脚本插件。</p>
<p><img src="/2019/05/15/JavaScript学习笔记-七/网站.jpg" alt=""></p>
<h2><span id="表单">表单</span></h2><h3><span id="简介">简介</span></h3><p>表单其实也是一个<strong>DOM树</strong>。表单的操作对于脚本来说还是非常重要的，比如说输入框下拉框之类的，都可以通过JS来操作。</p>
<p>表单在网页中主要负责<strong>数据采集</strong>功能。一个表单有三个基本组成部分： </p>
<p><strong>表单标签</strong>：这里面包含了处理表单数据所用CGI程序的URL以及数据提交到服务器的方法。 </p>
<p><strong>表单域</strong>：包含了文本框、密码框、隐藏域、多行文本框、复选框、单选框、下拉选择框和文件上传框等。 </p>
<p><strong>表单按钮</strong>：包括提交按钮、复位按钮和一般按钮；用于将数据传送到服务器上的CGI脚本或者取消输入，还可以用表单按钮来控制其他定义了处理脚本的处理工作。</p>
<h3><span id="输入控件">输入控件</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">文本框，对应的&lt;input type=&quot;text&quot;&gt;，用于输入文本；</span><br><span class="line"></span><br><span class="line">口令框，对应的&lt;input type=&quot;password&quot;&gt;，用于输入口令；</span><br><span class="line"></span><br><span class="line">单选框，对应的&lt;input type=&quot;radio&quot;&gt;，用于选择一项；</span><br><span class="line"></span><br><span class="line">复选框，对应的&lt;input type=&quot;checkbox&quot;&gt;，用于选择多项；</span><br><span class="line"></span><br><span class="line">下拉框，对应的&lt;select&gt;，用于选择一项；</span><br><span class="line"></span><br><span class="line">隐藏文本，对应的&lt;input type=&quot;hidden&quot;&gt;，用户不可见，但表单提交时会把隐藏文本发送到服务器。</span><br></pre></td></tr></table></figure>
<h3><span id="获取值">获取值</span></h3><p>例如获得一个input节点的引用的话，可以直接通过<strong>value</strong>来获得对应的输入值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var input = document.getElementById(&apos;test&apos;);</span><br><span class="line">input.value; // &apos;用户输入的值&apos;</span><br></pre></td></tr></table></figure>
<p>这种方法可以类推到test、password等等属性，但是需要注意的是value属性对于<strong>单选框/复选框</strong>返回的永远是HTML预设的值，如果需要判断用户选择的是哪些的话，需要用到<strong>checked</strong>判断。</p>
<p>实例如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var mon = document.getElementById(&apos;monday&apos;);</span><br><span class="line">var tue = document.getElementById(&apos;tuesday&apos;);</span><br><span class="line">mon.value; // &apos;1&apos;</span><br><span class="line">tue.value; // &apos;2&apos;</span><br><span class="line">mon.checked; // true或者false</span><br><span class="line">tue.checked; // true或者false</span><br></pre></td></tr></table></figure>
<h3><span id="填充值">填充值</span></h3><p><strong>对于单选框/复选框，设置checked的值即可。</strong></p>
<p><strong>对于另外的输入控件的话，直接设置value值即可。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var input = document.getElementById(&apos;QQ&apos;);</span><br><span class="line">input.value = &apos;123456789&apos;; // 文本框的内容已更新</span><br></pre></td></tr></table></figure>
<h3><span id="html5控件">HTML5控件</span></h3><p>HTML5新增大量标准控件，常用的包括<strong>date、datetime、datetime-local、color</strong>等，它们都使用input标签：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;date&quot; value=&quot;2019-05-15&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>实例：</p>
<input type="date" value="2019-05-15">

<input type="color" value="#ff0000">

<p>注意：这些属性只是对于支持HTML5的浏览器起作用，如果不支持的话就只是简单的<strong>文本格式test</strong>来显示。</p>
<h3><span id="提交">提交</span></h3><p>JS支持两种方法来提交表单。（AJAX暂且不算）</p>
<p>方法一 通过<strong>form元素</strong>的<strong>submit()方法</strong>提交一个表单。</p>
<p>缺点：<strong>扰乱了浏览器对form的正常提交。</strong>浏览器默认点击button type=”submit”时提交表单，或者用户在最后一个输入框按回车键。</p>
<p>方法二 响应<strong>form</strong>本身的<strong>onsubmit事件</strong>，在提交form时作修改。</p>
<p>简单实例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- HTML --&gt;</span><br><span class="line">&lt;form id=&quot;test-form&quot; onsubmit=&quot;return checkForm()&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; name=&quot;test&quot;&gt;</span><br><span class="line">    &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">function checkForm() &#123;</span><br><span class="line">    var form = document.getElementById(&apos;test-form&apos;);</span><br><span class="line">    // 可以在此修改form的input...</span><br><span class="line">    // 继续下一步:</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>注意<strong>return true来告诉浏览器继续提交，如果return false，浏览器将不会继续提交form，</strong>这种情况通常对应用户输入有误，提示用户错误信息后终止提交form。</p>
<p><strong>另外，在检查和修改input时，要充分利用input type=”hidden”来传递数据。</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/05/14/Auto-js-Script开发-十三/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/14/Auto-js-Script开发-十三/" itemprop="url">Auto.js Script开发(十三)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-14T08:31:18+08:00">
                2019-05-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/移动端开发/" itemprop="url" rel="index">
                    <span itemprop="name">移动端开发</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/移动端开发/Auto-js/" itemprop="url" rel="index">
                    <span itemprop="name">Auto.js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  2.2k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  9
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#前言">前言</a></li>
<li><a href="#正文">正文</a><ul>
<li><a href="#题外话">题外话</a></li>
<li><a href="#思路">思路</a></li>
<li><a href="#完整代码">完整代码</a></li>
<li><a href="#总结">总结</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<h2><span id="前言">前言</span></h2><p>之前开发的THBELIEFScript已经很久没有维护了，关键的原因还是没有可以需求的地方，最近刚好有了需求，所以就把这个项目重新提起来一下。这次开发的是chaoXing全自动的脚本，作用就是遇到题目做完然后跳过，看完这个视频自动寻找下一个视频。（不涉及任何作弊手动，仅仅是自动化），目前5.2.0的版本的chaoXIng有些手机不适配。</p>
<h2><span id="正文">正文</span></h2><h3><span id="题外话">题外话</span></h3><p><a href="https://greasyfork.org/zh-CN/scripts/369625-%E8%B6%85%E6%98%9F%E7%BD%91%E8%AF%BE%E5%8A%A9%E6%89%8B" target="_blank" rel="noopener">传送门</a>这个网址是一个JS脚本，也是和今天说的这个一样的作用只是大佬的比较完善，但是仅做参考，我只是拿来学习对于浏览器的操作的。</p>
<p><strong>注意：4.30号开始chaoXing的更新导致浏览器脚本的查出概率很大。</strong></p>
<h3><span id="思路">思路</span></h3><p>首先肯定需要无障碍权限：</p>
<p>这里其实有点儿问题，相比传统的<strong>auto():</strong>来说，貌似有BUG。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">if(!floaty.checkPermission())&#123;</span><br><span class="line">    toast(&quot;未打开无障碍权限！请打开无障碍权限。&quot;);</span><br><span class="line">    floaty.requestPermission();</span><br><span class="line"></span><br><span class="line">&#125;else&#123;</span><br><span class="line">    toast(&quot;无障碍权限已打开！&quot;);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后我是想着需不需要直接跳转过去打开APP，如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if(currentPackage()!=&quot;com.chaoxing.mobile&quot;)&#123;</span><br><span class="line">    toast(&quot;即将打开超星！&quot;);</span><br><span class="line">    //直接打开学习通</span><br><span class="line">    app.launchApp(&quot;学习通&quot;);</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    toast(&quot;已经在学习通中，即将开始进行下一步操作！&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>但是最后决定取消，由手动去前往打开。</p>
<p>定义了一个数组变量用来存储完成情况：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//这个是存完成情况的</span><br><span class="line">var completionDeploy=[];</span><br></pre></td></tr></table></figure>
<p>设置一个音量下键停止脚本并弹出完成情况的东西：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//监听音量下键是否按下，退出脚本</span><br><span class="line">threads.start(function()&#123;</span><br><span class="line">    events.setKeyInterceptionEnabled(&quot;volume_down&quot;,true);</span><br><span class="line">    //监听按键</span><br><span class="line">    events.observeKey();</span><br><span class="line">    events.onKeyDown(&quot;volume_down&quot;, function(event)&#123;</span><br><span class="line">        toast(&quot;即将关闭当前脚本！&quot;);</span><br><span class="line">        alert(completionDeploy);//展示信息</span><br><span class="line">        sleep(5000);</span><br><span class="line">        //engines.myEngine().forceStop();</span><br><span class="line">        engines.myEngine().forceStop();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>每隔一分钟检测是否有题是否已经看完当前视频：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//开始定时器，每隔一分钟自动检索是否存在答题的可能性，如果需要答题的话就直接答题即可</span><br><span class="line">setInterval(function()&#123;</span><br><span class="line">    //如果检测到有题目的话直接答题</span><br><span class="line">    answerProblem();</span><br><span class="line">    //如果已经看完了现在的之后</span><br><span class="line">    if(currentActivity()==&quot;com.chaoxing.fanya.aphone.ui.chapter.KnowledgePagerActivity&quot;)&#123;</span><br><span class="line">        toast(&quot;当前的视频已经看完了，即将开始寻找下一个视频自动播放~&quot;);</span><br><span class="line">        log(&quot;视频已看完，即将开始下一个视频~&quot;);</span><br><span class="line">        //寻找下一个视频自动打开并且播放，以此类推</span><br><span class="line">        findNextVideo();</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        toast(&quot;当前视频尚未看完！&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;, 1000*60);//一分钟检测一次</span><br></pre></td></tr></table></figure>
<p>最后写好各个函数就可以了。</p>
<h3><span id="完整代码">完整代码</span></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br></pre></td><td class="code"><pre><span class="line">//auto();</span><br><span class="line">//直接打开无障碍权限</span><br><span class="line">//检测是否打开了无障碍权限</span><br><span class="line"></span><br><span class="line">if(!floaty.checkPermission())&#123;</span><br><span class="line">    toast(&quot;未打开无障碍权限！请打开无障碍权限。&quot;);</span><br><span class="line">    floaty.requestPermission();</span><br><span class="line"></span><br><span class="line">&#125;else&#123;</span><br><span class="line">    toast(&quot;无障碍权限已打开！&quot;);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">toast(&quot;请确保超星已经在后台打开并且已经打开即将开始播放的页面！&quot;);</span><br><span class="line">sleep(2000);//延迟两秒吧</span><br><span class="line">/*</span><br><span class="line">if(currentPackage()!=&quot;com.chaoxing.mobile&quot;)&#123;</span><br><span class="line">    toast(&quot;即将打开超星！&quot;);</span><br><span class="line">    //直接打开学习通</span><br><span class="line">    app.launchApp(&quot;学习通&quot;);</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    toast(&quot;已经在学习通中，即将开始进行下一步操作！&quot;);</span><br><span class="line">&#125;</span><br><span class="line">*/</span><br><span class="line">/*</span><br><span class="line">//这个地方是检测是否在即将开始的页面</span><br><span class="line">if(currentActivity()==&quot;com.chaoxing.fanya.aphone.ui.chapter.KnowledgePagerActivity&quot;)&#123;</span><br><span class="line">    //如果是在当前页面的话就直接play即可</span><br><span class="line">    //点击播放按钮</span><br><span class="line">    className(&quot;android.widget.Image&quot;).text(&quot;play&quot;).clickable().findOnce().click();</span><br><span class="line">    sleep(2000);</span><br><span class="line">&#125;</span><br><span class="line">*/</span><br><span class="line">/*</span><br><span class="line">var countDownTime=60;//这是倒计时的秒数</span><br><span class="line">setInterval(function()&#123;</span><br><span class="line">    toast(&quot;当前距离下一次检测还有&quot;+countDownTime+&quot;s！&quot;);</span><br><span class="line">    countDownTime--;</span><br><span class="line">    if(countDownTime==0)&#123;</span><br><span class="line">        countDownTime=60;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;, 1000);</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">//这个是存完成情况的</span><br><span class="line">var completionDeploy=[];</span><br><span class="line">//监听音量下键是否按下，退出脚本</span><br><span class="line">threads.start(function()&#123;</span><br><span class="line">    events.setKeyInterceptionEnabled(&quot;volume_down&quot;,true);</span><br><span class="line">    //监听按键</span><br><span class="line">    events.observeKey();</span><br><span class="line">    events.onKeyDown(&quot;volume_down&quot;, function(event)&#123;</span><br><span class="line">        toast(&quot;即将关闭当前脚本！&quot;);</span><br><span class="line">        alert(completionDeploy);//展示信息</span><br><span class="line">        sleep(5000);</span><br><span class="line">        //engines.myEngine().forceStop();</span><br><span class="line">        engines.myEngine().forceStop();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">//开始定时器，每隔一分钟自动检索是否存在答题的可能性，如果需要答题的话就直接答题即可</span><br><span class="line">setInterval(function()&#123;</span><br><span class="line">    //如果检测到有题目的话直接答题</span><br><span class="line">    answerProblem();</span><br><span class="line">    //如果已经看完了现在的之后</span><br><span class="line">    if(currentActivity()==&quot;com.chaoxing.fanya.aphone.ui.chapter.KnowledgePagerActivity&quot;)&#123;</span><br><span class="line">        toast(&quot;当前的视频已经看完了，即将开始寻找下一个视频自动播放~&quot;);</span><br><span class="line">        log(&quot;视频已看完，即将开始下一个视频~&quot;);</span><br><span class="line">        //寻找下一个视频自动打开并且播放，以此类推</span><br><span class="line">        findNextVideo();</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        toast(&quot;当前视频尚未看完！&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;, 1000*60);//一分钟检测一次</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">//这个是测试用的</span><br><span class="line">setInterval(function()&#123;</span><br><span class="line">    findNextVideo();</span><br><span class="line">&#125;,2000);</span><br><span class="line">*/</span><br><span class="line">//具体的执行方法</span><br><span class="line">function answerProblem()&#123;</span><br><span class="line">    //检测是否出现了弹窗的问题</span><br><span class="line">    sleep(1000);</span><br><span class="line">    var isExistProblem=0;</span><br><span class="line">    if(textContains(&quot;单选题&quot;).exists()||textContains(&quot;判断题&quot;).exists())&#123;</span><br><span class="line">        isExistProblem=1;</span><br><span class="line">    &#125;else if(textContains(&quot;多选题&quot;).exists())</span><br><span class="line">        isExistProblem=2;</span><br><span class="line">    sleep(1000);</span><br><span class="line">    log(&quot;是否存在:&quot;+isExistProblem);</span><br><span class="line">    completionDeploy.push(&quot;是否存在：&quot;+isExistProblem+&quot;\n&quot;);</span><br><span class="line">    if(isExistProblem==1)&#123;</span><br><span class="line">        toast(&quot;当前存在单选题/判断题，即将开始答题！&quot;);</span><br><span class="line">        log(&quot;当前存在单选题/判断题，即将开始答题！&quot;);</span><br><span class="line">        completionDeploy.push(&quot;当前存在单选题/判断题，即将开始答题！&quot;+&quot;\n&quot;);</span><br><span class="line">        //如果存在问题的话讲ABCD答案的空间全部找出来</span><br><span class="line">        var answerA=textContains(&quot;A&quot;).findOnce();</span><br><span class="line">        var answerB=textContains(&quot;B&quot;).findOnce();</span><br><span class="line">        var answerC=textContains(&quot;C&quot;).findOnce();</span><br><span class="line">        var answerD=textContains(&quot;D&quot;).findOnce();</span><br><span class="line">        var answerList=[answerA,answerB,answerC,answerD];</span><br><span class="line">        for(var i=0;i&lt;4;i++)&#123;</span><br><span class="line">            answerList[i].parent().click();</span><br><span class="line">            if(isRight())&#123;</span><br><span class="line">                //如果答题正确了，然后退出~</span><br><span class="line">                toast(&quot;答题完成！&quot;);</span><br><span class="line">                log(&quot;答题完成！&quot;);</span><br><span class="line">                completionDeploy.push(&quot;答题完成&quot;+&quot;\n&quot;);</span><br><span class="line">                sleep(1000);</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;else if(isExistProblem==2)&#123;</span><br><span class="line">        //多选题</span><br><span class="line">        //toast(&quot;当前存在多选题题，即将开始答题！&quot;);</span><br><span class="line">        log(&quot;当前存在多选题题，暂时不支持多选题，请手动答题！&quot;);</span><br><span class="line">        completionDeploy.push(&quot;当前存在多选题题，暂时不支持多选题，请手动答题！&quot;+&quot;\n&quot;);</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        toast(&quot;当前的页面未检索到题目！&quot;);</span><br><span class="line">        log(&quot;当前的页面未检索到题目！&quot;);</span><br><span class="line">        sleep(1000);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//寻找 下一个视频</span><br><span class="line">function findNextVideo()&#123;</span><br><span class="line">    //下面是返回标题集页面的以便进行下一次开始答题</span><br><span class="line">    var titleNow=null;</span><br><span class="line">    var titleNext=null;</span><br><span class="line">    //currentActivity()==&quot;com.chaoxing.fanya.aphone.ui.chapter.KnowledgePagerActivity&quot;</span><br><span class="line">        //这里是把当前已经看完的视频的标题记录下来，方便寻找下一个标题然后进行播放</span><br><span class="line">        titleNow=id(&quot;tv_chapter_name&quot;).findOnce().text();</span><br><span class="line">        toast(&quot;当前标题：&quot;+titleNow);</span><br><span class="line">        //如果看完了返回外面的界面的话直接跳出去</span><br><span class="line">        id(&quot;btnBack&quot;).clickable().findOnce().click();</span><br><span class="line">        log(&quot;当前的界面名称：&quot;+titleNow);</span><br><span class="line">        //完成情况添加</span><br><span class="line">        completionDeploy.push(titleNow+&quot;已完成！&quot;+&quot;\n&quot;);</span><br><span class="line">        sleep(2000);</span><br><span class="line">        //这是一个list，存放了所有</span><br><span class="line">        var titleList=id(&quot;tv_title&quot;).untilFind();</span><br><span class="line">        var titleListIndex=id(&quot;tv_sub_index&quot;).untilFind();</span><br><span class="line">        //log(titleList);</span><br><span class="line">        //log(titleListIndex);</span><br><span class="line">        for(var i=0;i&lt;titleList.length;i++)&#123;</span><br><span class="line">            //log(titleList[i].text());</span><br><span class="line">            if((titleListIndex[i].text()+&quot; &quot;+titleList[i].text())==titleNow)&#123;</span><br><span class="line">                //如果找到的话</span><br><span class="line">                //先滑动</span><br><span class="line">                swipe(device.width/2,device.width/2,device.width/2,device.height-titleList[i].bounds().centerY(),1000);</span><br><span class="line"></span><br><span class="line">                titleNext=titleList[i+1].text();</span><br><span class="line">                toast(&quot;下一个标题的名字：&quot;+titleNext);</span><br><span class="line">                log(&quot;下一个标题的名字：&quot;+titleNext);</span><br><span class="line">                sleep(1000);</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if(!titleNext)&#123;</span><br><span class="line">            toast(&quot;未找到&quot;+titleNext+&quot;标题！&quot;);</span><br><span class="line">            sleep(1000);</span><br><span class="line">            alert(completionDeploy);//展示信息</span><br><span class="line">            sleep(5000);</span><br><span class="line">            engines.myEngine().forceStop();</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            //找到控件位置然后点击进去</span><br><span class="line">            text(titleNext).findOnce().parent().click();</span><br><span class="line">            toast(&quot;已经进入 &quot;+titleNext+&quot; 标题&quot;);</span><br><span class="line">            completionDeploy.push(&quot;已经进入 &quot;+titleNext+&quot; 标题&quot;+&quot;\n&quot;);</span><br><span class="line">            sleep(4000);</span><br><span class="line">            </span><br><span class="line">            //点击播放按钮</span><br><span class="line">            className(&quot;android.widget.Image&quot;).text(&quot;play&quot;).clickable().findOnce().click();</span><br><span class="line">            sleep(2000);</span><br><span class="line">            toast(&quot;开始播放...&quot;);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    //&#125;   </span><br><span class="line">&#125;</span><br><span class="line">//判断当前的答题是否正确并且返回是否正确的值</span><br><span class="line">function isRight(answerX)&#123;</span><br><span class="line">    //提交</span><br><span class="line">    if(text(&quot;提交&quot;).exists())&#123;</span><br><span class="line">        text(&quot;提交&quot;).clickable().findOnce().click();</span><br><span class="line">    &#125;</span><br><span class="line">    if(textContains(&quot;回答正确&quot;).exists())&#123;</span><br><span class="line">        //再点击一次就重新进入看视频的状态</span><br><span class="line">        text(&quot;继续&quot;).clickable().findOnce().click();</span><br><span class="line">        toast(&quot;回答正确！&quot;);</span><br><span class="line">        sleep(1000);</span><br><span class="line">        return true;</span><br><span class="line">    &#125;else if(textContains(&quot;回答错误&quot;).exists())&#123;</span><br><span class="line">        toast(&quot;回答错误！&quot;);</span><br><span class="line">        sleep(1000);</span><br><span class="line">        return false;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        toast(&quot;出现未知错误！&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="总结">总结</span></h3><p>其实是很简单的，但是自己的<strong>粗心大意</strong>导致开发周期无限期拉长，很难受！</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/05/13/机器学习实验-SVM模型分类/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/13/机器学习实验-SVM模型分类/" itemprop="url">机器学习实验-SVM模型分类</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-13T10:20:30+08:00">
                2019-05-13
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/机器学习/" itemprop="url" rel="index">
                    <span itemprop="name">机器学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  900
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  3
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#前言">前言</a></li>
<li><a href="#实验目的和内容">实验目的和内容</a><ul>
<li><a href="#简介">简介</a></li>
<li><a href="#步骤">步骤</a></li>
<li><a href="#使用工具">使用工具</a></li>
</ul>
</li>
<li><a href="#实验过程">实验过程</a></li>
<li><a href="#实验结果">实验结果</a></li>
<li><a href="#实验总结">实验总结</a></li>
</ul>
<!-- tocstop -->
<h2><span id="前言">前言</span></h2><p>这次的博客记录一下第一次机器学习的实验Classification with SVM model的内容，感觉还是蛮有趣的，有点儿意思。</p>
<p><a href="http://www.cnblogs.com/yangyangcv/archive/2012/05/04/2483000.html" target="_blank" rel="noopener">libSVM简易使用手册</a>这个博客就是很详细的libsvm的介绍，如果有疑问的话直接点击进去查看即可。</p>
<h2><span id="实验目的和内容">实验目的和内容</span></h2><h3><span id="简介">简介</span></h3><p>这次的实验名称是<strong>Classification with SVM model</strong>，顾名思义，其实就是用SVM模型（支持向量机）进行分类。在本实验中其实就是先用train.data数据集对libsvm进行训练，再将已经训练好的模型对test.data数据集进行测试，得出本实验的结果。</p>
<h3><span id="步骤">步骤</span></h3><p>  首先第一步就是检查数据集<strong>是否是libsvm要求的标准输入格式</strong>，如果不是的话，还需要自行转换格式。<br>         然后就是用train.data数据集对libsvm模型进行训练。<br>         最后将训练好的模型对test.data进行测试得出结论然后记录即可。</p>
<h3><span id="使用工具">使用工具</span></h3><p>这里使用的SVM软件包是台湾大学林智仁(Chih-Jen Lin)博士等开发设计的<strong>libsvm通用SVM软件包。</strong><br>       这里使用的编译语言是<strong>python。</strong><br>       通过<strong>gnuplot</strong>交互式绘图工具可视化编程。   </p>
<h2><span id="实验过程">实验过程</span></h2><p>1.由于原始数据集train.data和test.data不是libsvm的标准输入格式，这里就涉及到一个数据集预处理问题。解决方案如下：<br>       这里我使用的是<strong>FormatDataLibsvm.xls</strong>通过Excel的<strong>宏定义</strong>来直接改变格式。</p>
<p><img src="/2019/05/13/机器学习实验-SVM模型分类/预处理.png" alt=""></p>
<p>现在的数据集经过预处理之后已经变成了LIBSVM的标准输入格式了，然后将其存入两个TXT文档-TRAIN.TXT和TEST.TXT。（这里强调.TXT是为了后面的输入格式考虑）</p>
<ol start="2">
<li><p>直接通过TRAIN.TXT训练之后用模型去对TEST.TXT测试：<br><strong>通过命令行跳转到LIBSVM下的TOOLS目录中执行命令：</strong></p>
<p><img src="/2019/05/13/机器学习实验-SVM模型分类/命令行.png" alt=""></p>
<p>然后在<strong>gnuplot</strong>中就生成了相关的实验数据结果。</p>
</li>
</ol>
<h2><span id="实验结果">实验结果</span></h2><p>实验结果如下：</p>
<p><img src="/2019/05/13/机器学习实验-SVM模型分类/结果.png" alt=""></p>
<p>最优参数c=0.5，gamma=0.0078125<br>       通过训练之后在test.txt数据集上的测试结果<strong>准确率accuracy</strong>=94.3754%</p>
<h2><span id="实验总结">实验总结</span></h2><p>这次实验总的来说是很有意义的，通过libsvm这个通用SVM软件包进行了一次用SVM模型（支持向量机）进行分类的实际实验，对进一步了解SVM很有帮助。<br>      实验中出现的问题不少，但是所幸都是解决了。具体问题如下：<br>      首先就是对于老师专门点到的<strong>libsvm标准输入格式</strong>的问题，思考了很久，自己尝试写过C++程序来对原始数据集进行转化，想直接转化出libsvm的标准输入格式，但是失败了，所幸是通过博客了解到FormatDataLibsvm.xls这个Excel的宏，通过这个宏定义直接转换出了libsvm的标准输入格式。<br>      然后就是关于数据集格式的问题，由于处理之后的数据集存在的是txt文本中，如果按照之前的省略后缀是不行的，必须加上具体的<strong>后缀格式</strong>才可以，之前并没有注意到这个问题，一直弄不出来。<br>      通过实验结果的准确率可以明确的看出，其实SVM模型的作用是十分大的，也是我第一次实践中明确机器学习中这些模型的强大，获益颇多。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/05/12/Android-设备兼容/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/12/Android-设备兼容/" itemprop="url">Android-设备兼容</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-12T10:03:17+08:00">
                2019-05-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/移动端开发/" itemprop="url" rel="index">
                    <span itemprop="name">移动端开发</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/移动端开发/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.2k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  4
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#不同设备兼容问题">不同设备兼容问题</a><ul>
<li><a href="#语言适配">语言适配</a><ul>
<li><a href="#使用字符资源">使用字符资源</a></li>
</ul>
</li>
<li><a href="#屏幕适配">屏幕适配</a><ul>
<li><a href="#创建不同的layout">创建不同的layout</a></li>
<li><a href="#创建不同的bitmap">创建不同的bitmap</a></li>
</ul>
</li>
<li><a href="#系统版本适配">系统版本适配</a><ul>
<li><a href="#最小和目标api级别">最小和目标API级别</a></li>
<li><a href="#运行时检测系统版本">运行时检测系统版本</a></li>
<li><a href="#平台风格和主题">平台风格和主题</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- tocstop -->
<h2><span id="不同设备兼容问题">不同设备兼容问题</span></h2><p>众所周知，这个世界上到目前为止出现的Android设备是各式各样的。语言，屏幕尺寸，Android的系统版本等重要的变量因素是制约一个APP的关键。如何适配不同的Android设备也是一个很重要的问题。</p>
<h3><span id="语言适配">语言适配</span></h3><p><strong>把UI中的字符串存储在外部文件，通过代码提取，</strong>这就是一种解决方法。</p>
<p>为支持多国语言，在res/中创建一个额外的values目录以连字符和ISO国家代码结尾命名，比如values-es/ 是为语言代码为”es”的区域设置的简单的资源文件的目录。<strong>Android会在运行时根据设备的区域设置，加载相应的资源。</strong></p>
<p>如果已经确定支持某种语言，那么就需要创建资源的子目录以及字符串资源文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MyProject/</span><br><span class="line">    res/</span><br><span class="line">       values/</span><br><span class="line">           strings.xml</span><br><span class="line">       values-es/</span><br><span class="line">           strings.xml</span><br><span class="line">       values-fr/</span><br><span class="line">           strings.xml</span><br></pre></td></tr></table></figure>
<h4><span id="使用字符资源">使用字符资源</span></h4><p><strong>在源代码和其他XML文件中通过string元素的name属性来引用字符串资源。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// Get a string resource from your app&apos;s Resources</span><br><span class="line">String hello = getResources().getString(R.string.hello_world);</span><br><span class="line"></span><br><span class="line">// Or supply a string resource to a method that requires a string</span><br><span class="line">TextView textView = new TextView(this);</span><br><span class="line">textView.setText(R.string.hello_world);</span><br></pre></td></tr></table></figure>
<p>在XML文件中，每当XML属性要接受一个字符串值时，可以通过<strong>@string/&lt;string_name&gt;语法</strong>来引用字符串资源。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;TextView</span><br><span class="line">    android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">    android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">    android:text=&quot;@string/hello_world&quot; /&gt;</span><br></pre></td></tr></table></figure>
<h3><span id="屏幕适配">屏幕适配</span></h3><p><strong>app中应该包含一些可选资源，针对不同的屏幕尺寸和分辨率，来优化其外观。</strong></p>
<p>4种普遍尺寸：小(small)，普通(normal)，大(large)，超大(xlarge)<br>       4种普遍分辨率：低精度(ldpi), 中精度(mdpi), 高精度(hdpi), 超高精度(xhdpi)</p>
<p>同时<strong>不同的屏幕方向</strong>其实也是需要适配的一部分。</p>
<h4><span id="创建不同的layout">创建不同的layout</span></h4><p>和语言适配类似，为了针对不同的屏幕去优化用户体验，需要<strong>为每一种将要支持的屏幕尺寸创建唯一的XML文件。每一种layout需要保存在相应的资源目录中，目录以-&lt;screen_size&gt;为后缀命名</strong>。例如，对大尺寸屏幕(large screens)，一个唯一的layout文件应该保存在res/layout-large/中。</p>
<h4><span id="创建不同的bitmap">创建不同的bitmap</span></h4><p><strong>应该为4种普遍分辨率:低，中，高，超高精度，都提供相适配的bitmap资源。这能使app在所有屏幕分辨率中都能有良好的画质和效果。</strong>能够有效的提升用户的体验。</p>
<p>这些图像，应该从<strong>原始的矢量图像资源</strong>着手，根据下列尺寸比例，生成各种密度下的图像。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xhdpi: 2.0</span><br><span class="line">hdpi: 1.5</span><br><span class="line">mdpi: 1.0 (基准)</span><br><span class="line">ldpi: 0.75</span><br></pre></td></tr></table></figure>
<p>生成的图像和前面的类似，都是放入<strong>drawable资源目录</strong>中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MyProject/</span><br><span class="line">    res/</span><br><span class="line">        drawable-xhdpi/</span><br><span class="line">            awesomeimage.png</span><br><span class="line">        drawable-hdpi/</span><br><span class="line">            awesomeimage.png</span><br><span class="line">        drawable-mdpi/</span><br><span class="line">            awesomeimage.png</span><br><span class="line">        drawable-ldpi/</span><br><span class="line">            awesomeimage.png</span><br></pre></td></tr></table></figure>
<p>这样做之后系统会在不同的设备上自动的调整选择适合的bitmap。</p>
<h3><span id="系统版本适配">系统版本适配</span></h3><p>Android的系统版本是在一直更新的，如何保持老版本的支持就是一个问题。</p>
<h4><span id="最小和目标api级别">最小和目标API级别</span></h4><p>AndroidManifest.xml文件中描述了我们的app的细节及app支持哪些Android版本。具体来说，uses-sdk元素中的minSdkVersion和targetSdkVersion 属性，标明在设计和测试app时，最低兼容API的级别和最高适用的API级别(这个最高的级别是需要通过测试的)。</p>
<p><strong>应该将targetSdkVersion的值尽量的设置与最新可用的Android版本匹配。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; ... &gt;</span><br><span class="line">    &lt;uses-sdk android:minSdkVersion=&quot;4&quot; android:targetSdkVersion=&quot;15&quot; /&gt;</span><br><span class="line">    ...</span><br><span class="line">&lt;/manifest&gt;</span><br></pre></td></tr></table></figure>
<h4><span id="运行时检测系统版本">运行时检测系统版本</span></h4><p>Android在Build常量类中提供了对<strong>每一个版本的唯一代号，</strong>在我们的app中使用这些代号可以建立条件，保证依赖于高级别的API的代码，只会在这些API在当前系统中可用时，才会执行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">private void setUpActionBar() &#123;</span><br><span class="line">    // Make sure we&apos;re running on Honeycomb or higher to use ActionBar APIs</span><br><span class="line">    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) &#123;</span><br><span class="line">        ActionBar actionBar = getActionBar();</span><br><span class="line">        actionBar.setDisplayHomeAsUpEnabled(true);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4><span id="平台风格和主题">平台风格和主题</span></h4><p>Android提供了用户体验主题，为app提供基础操作系统的外观和体验。这些主题可以在manifest文件中被应用于app中。<strong>使用内置的风格和主题，app会自然地随着Android新版本而自动适配最新的外观和体验。</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/05/11/JavaScript学习笔记-六/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/11/JavaScript学习笔记-六/" itemprop="url">JavaScript学习笔记(六)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-11T18:58:12+08:00">
                2019-05-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.6k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  6
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#前言">前言</a></li>
<li><a href="#dom操作">Dom操作</a><ul>
<li><a href="#获取dom节点">获取Dom节点</a><ul>
<li><a href="#常用方法">常用方法</a></li>
</ul>
</li>
<li><a href="#dom更新">Dom更新</a></li>
<li><a href="#dom插入">Dom插入</a></li>
<li><a href="#dom删除">Dom删除</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<h2><span id="前言">前言</span></h2><p>这一部分关于浏览器部分的知识其实是比较抽象的，建议直接在浏览器上面一边操作一边学习，这样作用更大。</p>
<h2><span id="dom操作">Dom操作</span></h2><p><strong>HTML文档被浏览器解析后就是一棵DOM树，要改变HTML的结构，就需要通过JavaScript来操作DOM。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">更新：更新该DOM节点的内容，相当于更新了该DOM节点表示的HTML的内容；</span><br><span class="line"></span><br><span class="line">遍历：遍历该DOM节点下的子节点，以便进行进一步操作；</span><br><span class="line"></span><br><span class="line">添加：在该DOM节点下新增一个子节点，相当于动态增加了一个HTML节点；</span><br><span class="line"></span><br><span class="line">删除：将该节点从HTML中删除，相当于删掉了该DOM节点的内容以及它包含的所有子节点。</span><br></pre></td></tr></table></figure>
<h3><span id="获取dom节点">获取Dom节点</span></h3><p>理所当然的，在操作一个Dom的时候应该<strong>先获取到Dom节点</strong>再进行相应的操作。</p>
<h4><span id="常用方法">常用方法</span></h4><p><strong>第一种</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">document.getElementById() //直接定位唯一的一个DOM节点。</span><br><span class="line">document.getElementsByTagName() //返回一组DOM节点。要精确地选择DOM，可以先定位父节点，再从父节点开始选择，以缩小范围。</span><br><span class="line">document.getElementsByClassName() // 返回一组DOM节点。要精确地选择DOM，可以先定位父节点，再从父节点开始选择，以缩小范围。</span><br></pre></td></tr></table></figure>
<p><strong>第二种</strong></p>
<p>这种方式<strong>低版本的IE8不支持。</strong></p>
<p>使用<strong>querySelector()</strong>和<strong>querySelectorAll()</strong>，了解<strong>selector</strong>语法，然后<strong>使用条件</strong>来获取节点。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 通过querySelector获取ID为thbelief的节点：</span><br><span class="line">var q1 = document.querySelector(&apos;#thbelief&apos;);</span><br><span class="line"></span><br><span class="line">// 通过querySelectorAll获取q1节点内的符合条件的所有节点：</span><br><span class="line">var ps = q1.querySelectorAll(&apos;div.highlighted &gt; p&apos;);</span><br></pre></td></tr></table></figure>
<p>事实上，<strong>这里的DOM节点是指Element，但是DOM节点实际上是Node</strong>，在HTML中，Node包括Element、Comment、CDATA_SECTION等很多种，以及根节点Document类型，但是，绝大多数时候只关心<strong>Element</strong>，也就是实际控制页面结构的Node，其他类型的Node忽略即可。</p>
<p><strong>根节点Document自动绑定为全局变量document。</strong></p>
<h3><span id="dom更新">Dom更新</span></h3><p>拿到Dom节点之后可以进行更新，<strong>可以直接修改节点的文本。</strong></p>
<p><strong>第一种方法</strong></p>
<p>修改<strong>innerHTML属性</strong>，<strong>可以修改一个DOM节点的文本内容，还可以直接通过HTML片段修改DOM节点内部的子树</strong>。</p>
<p>注意：<strong>是否需要写入HTML。</strong>如果写入的字符串是通过网络拿到了，要注意对字符<strong>编码</strong>来避免XSS攻击。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 获取&lt;p id=&quot;p-id&quot;&gt;...&lt;/p&gt;</span><br><span class="line">var p = document.getElementById(&apos;p-id&apos;);</span><br><span class="line">// 设置文本为abc:</span><br><span class="line">p.innerHTML = &apos;ABC&apos;; // &lt;p id=&quot;p-id&quot;&gt;ABC&lt;/p&gt;</span><br><span class="line">// 设置HTML:</span><br><span class="line">p.innerHTML = &apos;ABC &lt;span style=&quot;color:red&quot;&gt;RED&lt;/span&gt; XYZ&apos;;</span><br><span class="line">// &lt;p&gt;...&lt;/p&gt;的内部结构已修改</span><br></pre></td></tr></table></figure>
<p><strong>第二种方法</strong></p>
<p>修改<strong>innerText或textContent</strong>属性，这样可以<strong>自动对字符串进行HTML编码</strong>，保证<strong>无法设置任何HTML标签。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 获取&lt;p id=&quot;p-id&quot;&gt;...&lt;/p&gt;</span><br><span class="line">var p = document.getElementById(&apos;p-id&apos;);</span><br><span class="line">// 设置文本:</span><br><span class="line">p.innerText = &apos;&lt;script&gt;alert(&quot;Hi&quot;)&lt;/script&gt;&apos;;</span><br><span class="line">// HTML被自动编码，无法设置一个&lt;script&gt;节点:</span><br><span class="line">// &lt;p id=&quot;p-id&quot;&gt;&amp;lt;script&amp;gt;alert(&quot;Hi&quot;)&amp;lt;/script&amp;gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<p>区别：</p>
<p><strong>读取属性时，innerText不返回隐藏元素的文本，而textContent返回所有文本。</strong>另外注意IE&lt;9不支持textContent。</p>
<p>修改CSS也是经常需要的操作。</p>
<p>DOM节点的style属性对应所有的CSS，可以直接获取或设置。因为CSS允许font-size这样的名称，但它并非JavaScript有效的属性名，所以需要在JavaScript中改写为<strong>驼峰式命名fontSize。</strong></p>
<h3><span id="dom插入">Dom插入</span></h3><p>如果当前的Dom节点是空的，那么，直接使用<strong>innerHTML = ‘<span>child</span>‘</strong>就可以修改DOM节点的内容，这就相当于<strong>插入</strong>了。</p>
<p>如果当前的Dom节点不为空的话，不能通过那种方式，因为这样会替换掉原来的所有的子节点。</p>
<p>不为空有两种方法可以插入新的节点。</p>
<p><strong>一个是使用appendChild，把一个子节点添加到父节点的最后一个子节点。</strong></p>
<p>原始的结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- HTML结构 --&gt;</span><br><span class="line">&lt;p id=&quot;js&quot;&gt;JavaScript&lt;/p&gt;</span><br><span class="line">&lt;div id=&quot;list&quot;&gt;</span><br><span class="line">    &lt;p id=&quot;java&quot;&gt;Java&lt;/p&gt;</span><br><span class="line">    &lt;p id=&quot;python&quot;&gt;Python&lt;/p&gt;</span><br><span class="line">    &lt;p id=&quot;scheme&quot;&gt;Scheme&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>插入一项：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var</span><br><span class="line">    js = document.getElementById(&apos;js&apos;),</span><br><span class="line">    list = document.getElementById(&apos;list&apos;);</span><br><span class="line">list.appendChild(js);</span><br></pre></td></tr></table></figure>
<p>之后的结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- HTML结构 --&gt;</span><br><span class="line">&lt;div id=&quot;list&quot;&gt;</span><br><span class="line">    &lt;p id=&quot;java&quot;&gt;Java&lt;/p&gt;</span><br><span class="line">    &lt;p id=&quot;python&quot;&gt;Python&lt;/p&gt;</span><br><span class="line">    &lt;p id=&quot;scheme&quot;&gt;Scheme&lt;/p&gt;</span><br><span class="line">    &lt;p id=&quot;js&quot;&gt;JavaScript&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>再就是可以使用<strong>parentElement.insertBefore(newElement, referenceElement);</strong>，<strong>子节点会插入到referenceElement之前</strong>。</p>
<p>假设把Haskell插入到python前面：</p>
<p>原始结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- HTML结构 --&gt;</span><br><span class="line">&lt;div id=&quot;list&quot;&gt;</span><br><span class="line">    &lt;p id=&quot;java&quot;&gt;Java&lt;/p&gt;</span><br><span class="line">    &lt;p id=&quot;python&quot;&gt;Python&lt;/p&gt;</span><br><span class="line">    &lt;p id=&quot;scheme&quot;&gt;Scheme&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>插入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var</span><br><span class="line">    list = document.getElementById(&apos;list&apos;),</span><br><span class="line">    ref = document.getElementById(&apos;python&apos;),</span><br><span class="line">    haskell = document.createElement(&apos;p&apos;);</span><br><span class="line">haskell.id = &apos;haskell&apos;;</span><br><span class="line">haskell.innerText = &apos;Haskell&apos;;</span><br><span class="line">list.insertBefore(haskell, ref);</span><br></pre></td></tr></table></figure>
<p>之后的结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- HTML结构 --&gt;</span><br><span class="line">&lt;div id=&quot;list&quot;&gt;</span><br><span class="line">    &lt;p id=&quot;java&quot;&gt;Java&lt;/p&gt;</span><br><span class="line">    &lt;p id=&quot;haskell&quot;&gt;Haskell&lt;/p&gt;</span><br><span class="line">    &lt;p id=&quot;python&quot;&gt;Python&lt;/p&gt;</span><br><span class="line">    &lt;p id=&quot;scheme&quot;&gt;Scheme&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h3><span id="dom删除">Dom删除</span></h3><p>删除明显比插入操作简单很多，<strong>先获得当前节点以及其父节点，调用父节点的removeChild方法把自己删除掉即可。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 拿到待删除节点:</span><br><span class="line">var self = document.getElementById(&apos;thbelief&apos;);</span><br><span class="line">// 拿到父节点:</span><br><span class="line">var parent = self.parentElement;</span><br><span class="line">// 删除:</span><br><span class="line">var removed = parent.removeChild(self);</span><br><span class="line">removed === self; // true</span><br></pre></td></tr></table></figure>
<p>注意：<strong>虽然该节点表面上是被删除了，但是实际上还在内存中。</strong></p>
<p>还有一个问题，那就是，当你同时删除多个节点的时候，是否会出现问题呢？</p>
<p>答案是肯定的，因为children的属性一直都是在实时的变化，原因如下：</p>
<p>另外，遍历一个父节点的子节点并进行删除操作时，要注意，<strong>children属性是一个只读属性，并且它在子节点变化时会实时更新。</strong>所以，<strong>删除多个节点时，要注意children属性时刻都在变化。</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://thbelief.coding.me/2019/05/10/JavaScript学习笔记-五/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="THBELIEF">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/zhangguoron.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="THBELIEF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/10/JavaScript学习笔记-五/" itemprop="url">JavaScript学习笔记(五)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-10T10:00:00+08:00">
                2019-05-10
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.3k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  5
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1><span id="目录">目录：</span></h1><!-- toc -->
<ul>
<li><a href="#前言">前言</a></li>
<li><a href="#浏览器对象">浏览器对象</a><ul>
<li><a href="#window">window</a></li>
<li><a href="#navigator">navigator</a></li>
<li><a href="#screen">screen</a></li>
<li><a href="#location">location</a></li>
<li><a href="#document">document</a><ul>
<li><a href="#cookie">Cookie</a></li>
</ul>
</li>
<li><a href="#history">history</a></li>
</ul>
</li>
<li><a href="#效果展示">效果展示</a></li>
</ul>
<!-- tocstop -->
<h2><span id="前言">前言</span></h2><p>众所周知，JS可以用来作为网页脚本的语言来使用。十分的方便。这里就开始记录JS对于浏览器的操作。由于目前国内很多浏览器的内核不同，编写的时候一定需要注意代码的可移植性与兼容性。</p>
<h2><span id="浏览器对象">浏览器对象</span></h2><p>JS可以获取当前浏览器的对象然后进行操作。</p>
<h3><span id="window">window</span></h3><p>window对象既是<strong>全局作用域</strong>也是<strong>浏览器窗口</strong>。</p>
<p>window对象有<strong>innerWidth</strong>和<strong>innerHeight</strong>属性，可以获取浏览器窗口的<strong>内部宽度和高度</strong>。内部宽高是指除去菜单栏、工具栏、边框等占位元素后，用于显示<strong>网页的净宽高</strong>。</p>
<p>相对应的，还有一个outerWidth和outerHeight属性，可以获取浏览器窗口的<strong>整个宽高。</strong></p>
<p><strong>在浏览器（我用的是chrome）页面F12然后在console窗口写入下面的代码回车即可。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(&apos;window inner size: &apos; + window.innerWidth + &apos; x &apos; + window.innerHeight);</span><br></pre></td></tr></table></figure>
<p>结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VM496:2 window inner size: 1516 x 1041</span><br></pre></td></tr></table></figure>
<h3><span id="navigator">navigator</span></h3><p>这个表示的是<strong>浏览器的信息，</strong>常用属性如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">navigator.appName：浏览器名称；</span><br><span class="line">navigator.appVersion：浏览器版本；</span><br><span class="line">navigator.language：浏览器设置的语言；</span><br><span class="line">navigator.platform：操作系统类型；</span><br><span class="line">navigator.userAgent：浏览器设定的User-Agent字符串。</span><br></pre></td></tr></table></figure>
<p>同样的代码测试：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">console.log(&apos;appName = &apos; + navigator.appName);</span><br><span class="line">console.log(&apos;appVersion = &apos; + navigator.appVersion);</span><br><span class="line">console.log(&apos;language = &apos; + navigator.language);</span><br><span class="line">console.log(&apos;platform = &apos; + navigator.platform);</span><br><span class="line">console.log(&apos;userAgent = &apos; + navigator.userAgent);</span><br></pre></td></tr></table></figure>
<p>结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">appName = Netscape</span><br><span class="line">VM501:2 appVersion = 5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.131 Safari/537.36</span><br><span class="line">VM501:3 language = zh-CN</span><br><span class="line">VM501:4 platform = Win32</span><br><span class="line">VM501:5 userAgent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.131 Safari/537.36</span><br></pre></td></tr></table></figure>
<p>注意：</p>
<p>navigator的信息是<strong>可以被用户修改的，</strong>也就是说，其实不是百分百的正确，所以如果针对不同的浏览器编写不同的代码，不应该使用if来判断浏览器的版本。</p>
<p>正确的方式：</p>
<p><strong>利用JS对不存在的对象会返回undefined的特质来直接使用||计算：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var width = window.innerWidth || document.body.clientWidth;</span><br></pre></td></tr></table></figure>
<h3><span id="screen">screen</span></h3><p>这个表示的是<strong>屏幕的信息，</strong>常用属性如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">screen.width：屏幕宽度，以像素为单位；</span><br><span class="line">screen.height：屏幕高度，以像素为单位；</span><br><span class="line">screen.colorDepth：返回颜色位数，如8、16、24。</span><br></pre></td></tr></table></figure>
<p>代码测试：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(&apos;Screen size = &apos; + screen.width + &apos; x &apos; + screen.height);</span><br></pre></td></tr></table></figure>
<p>结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Screen size = 1920 x 1080</span><br></pre></td></tr></table></figure>
<h3><span id="location">location</span></h3><p>表示的是<strong>当前页面的URL信息，</strong>如：（完整的URL）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.example.com:8080/path/index.html?a=1&amp;b=2#TOP</span><br></pre></td></tr></table></figure>
<p>这个可以使用<strong>location.herf</strong>来<strong>获取各个值：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">location.protocol; // &apos;http&apos;</span><br><span class="line">location.host; // &apos;www.example.com&apos;</span><br><span class="line">location.port; // &apos;8080&apos;</span><br><span class="line">location.pathname; // &apos;/path/index.html&apos;</span><br><span class="line">location.search; // &apos;?a=1&amp;b=2&apos;</span><br><span class="line">location.hash; // &apos;TOP&apos;</span><br></pre></td></tr></table></figure>
<p>加载新的页面一般使用<strong>location.assign()</strong>。如果要<strong>重新加载当前页面，调用location.reload()方法</strong>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if (confirm(&apos;重新加载当前页&apos; + location.href + &apos;?&apos;)) &#123;</span><br><span class="line">    location.reload();</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    location.assign(&apos;/&apos;); // 设置一个新的URL地址</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="document">document</span></h3><p>这个对象表示的是<strong>当前的页面。</strong>由于HTML在浏览器中以DOM形式表示为树形结构，<strong>document对象就是整个DOM树的根节点。</strong></p>
<p>document的<strong>title属性</strong>是从HTML文档中读取的，但是可以<strong>动态改变：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.title = &apos;努力学习JavaScript!&apos;;</span><br></pre></td></tr></table></figure>
<p>执行操作之后浏览器窗口的标题就被改变了。</p>
<p><strong>要查找DOM树的某个节点，需要从<code>document</code>对象开始查找。最常用的查找是根据ID和Tag Name。</strong></p>
<p>用document对象提供的<strong>getElementById()和getElementsByTagName()</strong>可以按ID获得一个DOM节点和按Tag名称获得一组DOM节点。</p>
<p>document对象还有一个<strong>cookie属性，可以获取当前页面的Cookie。</strong></p>
<h4><span id="cookie">Cookie</span></h4><p>Cookie是由服务器发送的<strong>key-value标示符</strong>。因为HTTP协议是<strong>无状态的，</strong>但是服务器要区分到底是哪个用户发过来的请求，就可以用Cookie来区分。当一个用户成功登录后，服务器发送一个Cookie给浏览器，例如user=ABC123XYZ(加密的字符串)…，此后，浏览器访问该网站时，会在请求头附上这个Cookie，<strong>服务器根据Cookie即可区分出用户。</strong></p>
<p>Cookie还可以<strong>存储网站的一些设置</strong>，例如，页面显示的语言等等。</p>
<p>JS可以通过<strong>document.cookie</strong>读取到当前页面的Cookie。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.cookie;</span><br></pre></td></tr></table></figure>
<p>值得注意的是：</p>
<p><strong>为了确保安全，服务器端在设置Cookie时，应该始终坚持使用httpOnly。</strong>原因是由于JS能读取到页面的Cookie，而用户的登录信息通常也存在Cookie中，这就造成了<strong>巨大的安全隐患。</strong></p>
<p>那么httpOnly的作用是什么呢？</p>
<p><strong>设定了httpOnly的Cookie将不能被JavaScript读取，而这个行为是由浏览器实现。</strong></p>
<h3><span id="history">history</span></h3><p>这个对象顾名思义是<strong>保存浏览器的历史记录的。</strong></p>
<p>由于历史遗留的问题，<strong>JavaScript可以调用history对象的back()或forward ()，相当于用户点击了浏览器的“后退”或“前进”按钮。</strong>但这不是一个好的选择，实在是太简单粗暴了，而且，由于现在的浏览器大量使用AJAX和页面交互，是以有些时候不是简单的后退就会达到效果，还容易造成不可预料的后果！所以，<strong>无论什么时候都不能使用这个对象！</strong></p>
<h2><span id="效果展示">效果展示</span></h2><p><img src="/2019/05/10/JavaScript学习笔记-五/浏览器.jpg" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/zhangguoron.jpg" alt="THBELIEF">
            
              <p class="site-author-name" itemprop="name">THBELIEF</p>
              <p class="site-description motion-element" itemprop="description">我这个人只是英俊 潇洒了些许~</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">101</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">155</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/thbelief" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:2465749045@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://blog.csdn.net/thbelief" target="_blank" title="CSDN">
                      
                        <i class="fa fa-fw fa-globe"></i>CSDN</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">THBELIEF</span>

  
</div>


  <!--<div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>
-->



<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共129.7k字</span>
</div>
<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":125,"height":150},"mobile":{"show":false},"log":false,"tagMode":false});</script></body>
</html>
